{"ast":null,"code":"import _regeneratorRuntime from \"C:/xampp/htdocs/coinfield/coinfied/frontend/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/xampp/htdocs/coinfield/coinfied/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"C:/xampp/htdocs/coinfield/coinfied/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"C:/xampp/htdocs/coinfield/coinfied/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"C:/xampp/htdocs/coinfield/coinfied/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TextField from '@material-ui/core/TextField';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport DeleteOutlineTwoToneIcon from '@material-ui/icons/DeleteOutlineTwoTone';\nimport LocalMallOutlinedIcon from '@material-ui/icons/LocalMallOutlined';\nimport clsx from 'clsx';\nimport { Modal } from 'components/common';\nimport { Section } from 'components/organisms';\nimport Toast from 'components/toaster';\nimport { ApiRoutes } from 'config';\nimport { ApiHelper } from 'helper';\nimport Link from 'next/link';\nimport React, { useEffect, useState } from 'react';\nimport validate from 'validate.js';\nimport { useStore } from '../../store';\nimport { OrderDetail } from \"./components\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      flexGrow: 1\n    },\n    paper: {\n      padding: theme.spacing(2),\n      textAlign: 'center',\n      color: theme.palette.text.secondary\n    },\n    box: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    },\n    box_shadow: {\n      boxShadow: \"rgba(0, 0, 0, 0.02) 0px 1px 3px 0px, rgba(27, 31, 35, 0.15) 0px 0px 0px 1px\"\n    },\n    commonBtn: {\n      display: \"inline-block\",\n      padding: 10,\n      backgroundColor: \"#5120FF\",\n      color: \"#fff\",\n      fontSize: 16,\n      borderRadius: 5,\n      minWidth: 200,\n      border: \"solid 1px #5120FF\",\n      textAlign: \"center\",\n      transition: \"all 0.3s ease-in-out\",\n      \"&:hover\": {\n        backgroundColor: \"#fff\",\n        color: \"#5120FF\"\n      }\n    },\n    cardHeading: {\n      marginLeft: \"22px\"\n    },\n    headingCard: {\n      fontSize: \"30px !important\",\n      marginLeft: \"8px\",\n      marginTop: \"5px\"\n    },\n    flex: {\n      display: \"flex\",\n      alignItems: \"center\"\n    },\n    redIcon: {\n      color: \"red\"\n    },\n    disabledIcon: {\n      color: \"red\",\n      opacity: \"0.4\",\n      cursor: \"not-allowed\"\n    },\n    table: {\n      minWidth: 650\n    },\n    shoppingIcon: {\n      fontSize: \"30px\"\n    },\n    promoCodeBlock: {\n      fontSize: \"16px\"\n    },\n    centering: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    },\n    space_between: {\n      display: \"flex\"\n    },\n    calculationBlock: {\n      paddingBottom: \"15px\"\n    },\n    calcTitle: {\n      paddingRight: \"20px\",\n      textAlign: \"right\",\n      width: \"calc(100% - 150px)\",\n      fontSize: '17px'\n    },\n    collapseSmooth: {\n      transition: \"all 3s ease-out\",\n      boxShadow: 'none'\n    },\n    calcValue: {\n      width: \"150px\",\n      fontSize: '17px',\n      fontWeight: '600',\n      textAlign: 'right',\n      paddingRight: 25\n    },\n    error_msg: {\n      color: \"red\"\n    },\n    success_msg: {\n      color: \"green\"\n    },\n    promoCode: {\n      padding: \"5px 10px\",\n      fontWeight: \"900\",\n      color: \"#f95c20\",\n      border: \"1px solid #f96b36\",\n      margin: \"0px 5px\",\n      borderRadius: \"20px\"\n    },\n    noPromoCode: {\n      opacity: \"0.4\",\n      fontSize: 18,\n      marginLeft: 5\n    },\n    cardHeader: {\n      backgroundColor: \"#5120ff\"\n    },\n    text_white: {\n      color: \"white\"\n    },\n    rightSide: {\n      display: \"flex\",\n      justifyContent: \"end\"\n    },\n    buttonBox: {\n      display: \"flex\",\n      justifyContent: \"end\"\n    },\n    distance_apart: {\n      display: \"flex\",\n      justifyContent: \"space-between\"\n    },\n    margin_right: {\n      marginRight: \"32px\",\n      paddingRight: \"20px\"\n    },\n    emptyCart: {\n      padding: \"30px 20px\",\n      textAlign: \"center\"\n    },\n    apply_field: {\n      \"& .MuiOutlinedInput-root\": {\n        borderTopRightRadius: 0,\n        borderBottomRightRadius: 0\n      }\n    },\n    apply_promo_btn: {\n      minWidth: 120,\n      borderTopLeftRadius: 0,\n      borderBottomLeftRadius: 0,\n      boxShadow: 'none'\n    },\n    paymentLoader: {\n      position: 'fixed',\n      zIndex: '10',\n      top: '0',\n      left: '0',\n      width: '100%',\n      height: '100%',\n      background: 'rgba(0,0,0,0.4)',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      flexDirection: 'column'\n    }\n  };\n});\nvar schema = {\n  cardHolderName: {\n    presence: {\n      allowEmpty: false,\n      message: 'is required'\n    },\n    length: {\n      maximum: 120\n    }\n  },\n  cardNumber: {\n    presence: {\n      allowEmpty: false,\n      message: 'is required'\n    },\n    length: {\n      minimum: 19,\n      maximum: 19\n    }\n  },\n  expiry: {\n    presence: {\n      allowEmpty: false,\n      message: 'is required'\n    }\n  },\n  cvc: {\n    presence: {\n      allowEmpty: false,\n      message: 'is required'\n    },\n    length: {\n      minimum: 3,\n      maximum: 3\n    }\n  }\n};\n\nvar AddCard = function AddCard(props) {\n  var authToken = props.authToken;\n  var classes = useStyles();\n  var theme = useTheme();\n\n  var _useState = useState([]),\n      promoCode = _useState[0],\n      setPromoCode = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      OrderTotal = _useState2[0],\n      setOrderTotal = _useState2[1];\n\n  var _useState3 = useState(false),\n      loader = _useState3[0],\n      setLoader = _useState3[1];\n\n  var _useState4 = useState(false),\n      couponLoader = _useState4[0],\n      setCouponLoader = _useState4[1];\n\n  var _useState5 = useState(''),\n      formError = _useState5[0],\n      setFormError = _useState5[1];\n\n  var _useState6 = useState(''),\n      error = _useState6[0],\n      setError = _useState6[1];\n\n  var _useState7 = useState(''),\n      successMsg = _useState7[0],\n      setSuccessMsg = _useState7[1];\n\n  var _useState8 = useState(''),\n      coupanValue = _useState8[0],\n      setCoupanValue = _useState8[1];\n\n  var _useState9 = useState(''),\n      coupanCode = _useState9[0],\n      setCoupanCode = _useState9[1];\n\n  var _useState10 = useState(''),\n      promoId = _useState10[0],\n      setPromoId = _useState10[1];\n\n  var _React$useState = React.useState({\n    isValid: false,\n    values: {},\n    touched: {},\n    errors: {}\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      formState = _React$useState2[0],\n      setFormState = _React$useState2[1];\n\n  var isMd = useMediaQuery(theme.breakpoints.up('md'), {\n    defaultMatches: true\n  });\n\n  var _useState11 = useState([]),\n      SelectedData = _useState11[0],\n      setSelectedData = _useState11[1];\n\n  var _useState12 = useState([]),\n      parentid = _useState12[0],\n      setParentId = _useState12[1];\n\n  var _useState13 = useState([]),\n      moduleIdApi = _useState13[0],\n      setModuleIdApi = _useState13[1];\n\n  var _useState14 = useState([]),\n      generalPromoCode = _useState14[0],\n      setGeneralPromoCode = _useState14[1];\n\n  var _useState15 = useState(false),\n      isCompleteCourse = _useState15[0],\n      setIscompleteCourse = _useState15[1];\n\n  var _useState16 = useState([]),\n      completeCourseDetails = _useState16[0],\n      setCompleteCourseDetails = _useState16[1];\n\n  var _useState17 = useState(false),\n      orderModalOpen = _useState17[0],\n      setOrderModalOpen = _useState17[1];\n\n  var _useState18 = useState([]),\n      checkoutModules = _useState18[0],\n      setCheckoutModules = _useState18[1];\n\n  var _useState19 = useState(false),\n      loaderDashboard = _useState19[0],\n      setLoaderDashboard = _useState19[1];\n\n  var handleLoader = function handleLoader(status) {\n    setLoaderDashboard(status);\n\n    if (status) {\n      setSelectedData([]);\n    }\n  };\n\n  var _useState20 = useState(false),\n      cancelBtn = _useState20[0],\n      setCancelBtn = _useState20[1];\n\n  var handleCancelBtn = function handleCancelBtn(status) {\n    setCancelBtn(status);\n  };\n\n  var getTotalPrice = function getTotalPrice(cartList, parentId) {\n    var cartModule = cartList.filter(function (ev) {\n      return ev.parentId === parentId || ev._id === parentId;\n    });\n    if (!cartModule.length) return 0;\n    return cartModule.map(function (e) {\n      return e.amount;\n    }).reduce(function (n, r) {\n      return +n + +r;\n    });\n  };\n\n  var getTotal = function getTotal(cartList) {\n    var getAllCourse = JSON.parse(localStorage.getItem(\"allCourseModules\"));\n\n    if (getAllCourse && getAllCourse.length) {\n      var allModulesData = getAllCourse.map(function (e) {\n        return {\n          parentId: e._id,\n          moduleLength: e.modules ? e.modules.length : \"\",\n          price: e.price\n        };\n      });\n      var cartDistribute = allModulesData.map(function (e) {\n        return {\n          parentId: e.parentId,\n          moduleLength: e.moduleLength,\n          courses: cartList.filter(function (ev) {\n            return ev.parentId === e.parentId;\n          }),\n          price: e.moduleLength && e.moduleLength === cartList.filter(function (ev) {\n            return ev.parentId === e.parentId;\n          }).filter(function (e) {\n            return !e.labId;\n          }).length ? +e.price : getTotalPrice(cartList, e.parentId)\n        };\n      });\n      return cartDistribute.map(function (e) {\n        return e.price;\n      }).length ? cartDistribute.map(function (e) {\n        return e.price;\n      }).reduce(function (n, p) {\n        return +n + +p;\n      }) : 0;\n    }\n\n    return 0;\n  }; // For Save Money\n  // const isSaveMoney = (cartList) => {\n  //   const totalCartAmount = cartList.map(e => e.amount).reduce((n, p) => +n + +p);\n  //   const disCartAmount = getTotal(cartList);\n  //   return totalCartAmount - disCartAmount;\n  // }\n  // For lab free\n\n\n  var isLabFree = function isLabFree(parentId, cartList) {\n    var getAllCourse = JSON.parse(localStorage.getItem(\"allCourseModules\"));\n    var moduleLength = \"\";\n\n    if (getAllCourse && getAllCourse.length) {\n      moduleLength = getAllCourse.find(function (e) {\n        return e._id === parentId;\n      }).modules.length;\n    }\n\n    var catModuleLength = cartList.filter(function (ev) {\n      return ev.parentId === parentId;\n    }).filter(function (e) {\n      return !e.labId;\n    }).length;\n    return moduleLength === catModuleLength;\n  }; //getting data from local storage\n\n\n  useEffect(function () {\n    var getSessionStored = JSON.parse(localStorage.getItem(\"SelectedCourseModules\"));\n    var allCourseModules = JSON.parse(localStorage.getItem(\"allCourseModules\"));\n\n    if (allCourseModules !== null) {\n      setCompleteCourseDetails(allCourseModules);\n    }\n\n    var GeneralPromoCode = JSON.parse(localStorage.getItem(\"GeneralPromoCode\"));\n\n    if (GeneralPromoCode !== null) {\n      setGeneralPromoCode(GeneralPromoCode);\n    }\n\n    var promoCode = JSON.parse(localStorage.getItem(\"promoCode\"));\n    var ParentIds = JSON.parse(localStorage.getItem(\"parentIds\"));\n\n    if (getSessionStored && getSessionStored.length) {\n      setSelectedData(getSessionStored);\n    }\n\n    if (promoCode && promoCode.length) {\n      setPromoCode(promoCode);\n    }\n  }, []); //re-rendering after the deleting from the cards\n\n  useEffect(function () {\n    if (SelectedData && SelectedData.length) {\n      localStorage.setItem(\"SelectedCourseModules\", JSON.stringify(SelectedData));\n\n      if (SelectedData.length) {\n        var _ref;\n\n        var Code = SelectedData.map(function (xyz) {\n          return xyz.promoCode;\n        });\n\n        var arrayPromoCode = (_ref = []).concat.apply(_ref, _toConsumableArray(removeDuplicates(Code, \"promoCode\")));\n\n        if (arrayPromoCode && arrayPromoCode.length) {\n          setPromoCode(arrayPromoCode);\n        }\n\n        var countTotal = SelectedData.map(function (item) {\n          return item.amount;\n        }).reduce(function (prev, next) {\n          return parseInt(prev) + parseInt(next);\n        });\n        setOrderTotal(countTotal);\n        var parentIdentity = SelectedData.map(function (xyz) {\n          return xyz.parentId;\n        });\n        var resultingParentIds = removeDuplicates(parentIdentity, \"parentId\");\n        setParentId(resultingParentIds);\n      }\n    } else {\n      setOrderTotal(\"\");\n    }\n  }, [SelectedData]);\n  useEffect(function () {\n    var errors = validate(formState.values, schema);\n    setFormState(function (formState) {\n      return _objectSpread(_objectSpread({}, formState), {}, {\n        isValid: errors ? false : true,\n        errors: errors || {}\n      });\n    });\n  }, [formState.values]); ///remove duplicacy\n\n  function removeDuplicates(originalArray) {\n    var seen = {};\n    return originalArray.filter(function (item) {\n      return seen.hasOwnProperty(item) ? false : seen[item] = true;\n    });\n  } //removing course from cards\n\n\n  var deleteSelected = function deleteSelected(id) {\n    if (SelectedData && SelectedData.length) {\n      var result = SelectedData.filter(function (data) {\n        return data._id !== id;\n      });\n      setSelectedData(result);\n      setCoupanCode('');\n      setPromoId('');\n      setCoupanValue('');\n      setFormState(_objectSpread(_objectSpread({}, formState), {}, {\n        values: {}\n      }));\n\n      if (result.length === 0) {\n        localStorage.setItem(\"SelectedCourseModules\", JSON.stringify([]));\n      }\n    }\n  }; //handling text for the coupon\n\n\n  var handleChange = function handleChange(event) {\n    event.persist();\n    setCoupanValue(event.target.value);\n    setFormState(function (formState) {\n      return _objectSpread(_objectSpread({}, formState), {}, {\n        values: _objectSpread(_objectSpread({}, formState.values), {}, _defineProperty({}, event.target.name, event.target.value)),\n        touched: _objectSpread(_objectSpread({}, formState.touched), {}, _defineProperty({}, event.target.name, true))\n      });\n    });\n    setFormError('');\n  }; // For get parent ids\n\n\n  var _useState21 = useState([]),\n      moduleParentIds = _useState21[0],\n      setModuleParentIds = _useState21[1];\n\n  useEffect(function (props) {\n    var getParentsId = JSON.parse(localStorage.getItem('parentIds'));\n\n    if (getParentsId && getParentsId.length) {\n      setModuleParentIds(getParentsId);\n    }\n  }, []); ///filtering id wrt to parent id\n\n  var filterIds = function filterIds() {\n    var testingArray = [];\n    var result = group(SelectedData, 'parentId');\n\n    function group(arr, key) {\n      return _toConsumableArray(arr.reduce(function (acc, o) {\n        return acc.set(o[key], (acc.get(o[key]) || []).concat(o));\n      }, new Map()).values());\n    }\n\n    var getWithOutLabelId = SelectedData.filter(function (e) {\n      return !e.labId;\n    });\n    var getLabelId = SelectedData.filter(function (e) {\n      return e.labId;\n    });\n    var getLabObj = [];\n    getLabelId.map(function (e) {\n      getLabObj.push({\n        parentId: e._id,\n        labId: e.labId\n      });\n    });\n    var moduleIds = [];\n    moduleParentIds.map(function (parentId) {\n      var getLabIds = getLabObj.filter(function (e) {\n        return e.parentId === parentId;\n      });\n      var getModules = getWithOutLabelId.filter(function (e) {\n        return e.parentId === parentId;\n      });\n\n      if (getModules && getModules.length) {\n        var getIds = getModules.map(function (e) {\n          return e._id;\n        });\n        moduleIds.push({\n          moduleIds: getIds,\n          courseId: parentId\n        });\n      } else {\n        if (getLabIds && getLabIds.length) {\n          moduleIds.push({\n            moduleIds: [],\n            courseId: parentId\n          });\n        }\n      }\n    }); ////Balvinder  starts coding\n\n    var apiDataPureArray = [];\n    var courseData = completeCourseDetails.map(function (e) {\n      return apiDataPureArray.push({\n        parentId: e._id,\n        moduleLength: e.modules ? e.modules.length : \"\"\n      });\n    });\n\n    var FinalFunction = function FinalFunction(cartItem) {\n      var labPurchasedVariable = completeCourseDetails.filter(function (e) {\n        return e._id === cartItem.courseId;\n      });\n      var labPurchasedValue = labPurchasedVariable[0].lab.labPurchased;\n      var getCurrentItem = apiDataPureArray.filter(function (e) {\n        return e.parentId === cartItem.courseId;\n      });\n\n      if (!labPurchasedValue) {\n        if (getCurrentItem[0].moduleLength === cartItem.moduleIds.length) return true;\n      } else return false;\n    }; ////Balvinder  ends the coding....\n\n\n    if (moduleIds && moduleIds.length) {\n      moduleIds.map(function (e) {\n        var labId = completeCourseDetails.filter(function (ev) {\n          return ev._id === e.courseId;\n        }).map(function (labId) {\n          return labId.lab._id;\n        });\n\n        if (typeof labId[0] == \"undefined\") {\n          labId = null;\n        }\n\n        var getLabId = getLabObj.filter(function (item) {\n          return item.parentId === e.courseId;\n        }).map(function (e) {\n          return e.labId;\n        });\n        testingArray.push(_objectSpread(_objectSpread({}, e), {}, {\n          moduleIds: e.moduleIds.length ? e.moduleIds : null,\n          labId: FinalFunction(e) ? labId : getLabId[0] ? getLabId[0] : null,\n          isCourseComplete: FinalFunction(e)\n        }));\n      });\n    } else {\n      getLabObj.map(function (e) {\n        testingArray.push({\n          moduleIds: null,\n          courseId: e.parentId,\n          labId: e.labId,\n          isCourseComplete: false\n        });\n      });\n    }\n\n    return testingArray;\n  }; //handle coupan after the button click\n\n\n  var handleApplyCoupon = function handleApplyCoupon() {\n    if (!formState.values.couponValue) {\n      setError(\"Please enter a valid Coupon code\");\n    } else {\n      var one = filterIds();\n      setCouponLoader(true);\n      setCoupanValue(formState.values.couponValue);\n      applyCoupon({\n        'promoCode': formState.values.couponValue,\n        'moduleId': one\n      });\n    }\n  }; //for applying promocode\n\n\n  var applyCoupon = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(data) {\n      var response, _data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return new ApiHelper().FetchFromServer(ApiRoutes.APPLYCOUPON.service, ApiRoutes.APPLYCOUPON.url, ApiRoutes.APPLYCOUPON.method, ApiRoutes.APPLYCOUPON.authenticate, authToken, undefined, data);\n\n            case 2:\n              response = _context.sent;\n\n              if (response && !response.isError) {\n                _data = response.data.data;\n                setCoupanCode(_data);\n                setCouponLoader(false);\n                setSuccessMsg(response.data.message);\n                setPromoId(response.data.data.promoId);\n                Toast.fire({\n                  icon: 'success',\n                  title: response.messages[0]\n                });\n                setError(\"\");\n              } else {\n                setError(\"\");\n                Toast.fire({\n                  icon: 'error',\n                  title: response.messages[0]\n                });\n                setCouponLoader(false);\n              }\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function applyCoupon(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }(); //copying promocode\n\n\n  var copyToClipboard = function copyToClipboard(code) {\n    navigator.clipboard.writeText(code);\n    Toast.fire({\n      icon: 'success',\n      title: \"Promo Code copied.\"\n    });\n  }; ///order modal opening\n\n\n  var orderDetailOpen = function orderDetailOpen() {\n    var token = localStorage.getItem(\"token\");\n\n    if (token) {\n      var one = filterIds();\n      setCheckoutModules(one);\n      setOrderModalOpen(true);\n    }\n  }; // const [count, setCount] = useState(0)\n\n\n  var handleOrderModalClose = function handleOrderModalClose() {\n    setOrderModalOpen(false);\n  }; // For Cart Icon item remove\n\n\n  var _useStore = useStore(),\n      removeCartHandler = _useStore.removeCartHandler;\n\n  return __jsx(React.Fragment, null, __jsx(Section, null, loaderDashboard ? __jsx(\"div\", {\n    className: classes.paymentLoader\n  }, __jsx(Box, null, __jsx(CircularProgress, null))) : \"\", __jsx(Card, {\n    className: classes.root\n  }, __jsx(CardHeader, {\n    className: classes.cardHeader,\n    title: __jsx(\"div\", {\n      className: clsx(classes.flex, classes.text_white)\n    }, __jsx(\"span\", null, \"Cart\"), __jsx(LocalMallOutlinedIcon, {\n      className: classes.headingCard\n    })),\n    titleTypographyProps: {\n      variant: 'h4'\n    }\n  }), __jsx(CardContent, null, __jsx(\"div\", _defineProperty({\n    className: classes.root\n  }, \"className\", classes.box), __jsx(Box, {\n    width: 1100,\n    className: classes.box_shadow\n  }, __jsx(Grid, {\n    container: true\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(TableContainer, {\n    component: Paper,\n    className: classes.collapseSmooth\n  }, __jsx(Table, {\n    className: classes.table,\n    \"aria-label\": \"simple table\"\n  }, __jsx(TableHead, null, __jsx(TableRow, null, __jsx(TableCell, null, \"S.No\"), __jsx(TableCell, null, \"Course name\"), __jsx(TableCell, null, \"Module name\"), __jsx(TableCell, null, \"Price($)\"), __jsx(TableCell, null, \"Remove\"))), __jsx(TableBody, null, SelectedData && SelectedData.length ? SelectedData.map(function (row, index) {\n    return __jsx(TableRow, {\n      key: row._id\n    }, __jsx(TableCell, {\n      component: \"th\",\n      scope: \"row\"\n    }, index + 1), __jsx(TableCell, null, row.title), __jsx(TableCell, null, row.moduleName), !row.labId ? __jsx(TableCell, null, row.amount) : isLabFree(row._id, SelectedData) ? __jsx(TableCell, null, __jsx(Tooltip, {\n      title: \"On purchase of complete course lab is free*\",\n      placement: \"top\",\n      arrow: true,\n      className: classes.tooltipWar\n    }, __jsx(\"s\", null, row.amount))) : __jsx(TableCell, null, row.amount), __jsx(TableCell, null, __jsx(\"div\", {\n      title: \"remove\"\n    }, !row.labId ? __jsx(DeleteOutlineTwoToneIcon, {\n      className: classes.redIcon,\n      onClick: function onClick() {\n        deleteSelected(row._id);\n        removeCartHandler();\n      }\n    }) : isLabFree(row._id, SelectedData) ? __jsx(DeleteOutlineTwoToneIcon, {\n      className: classes.disabledIcon\n    }) : __jsx(DeleteOutlineTwoToneIcon, {\n      className: classes.redIcon,\n      onClick: function onClick() {\n        deleteSelected(row._id);\n        removeCartHandler();\n      }\n    }))));\n  }) : __jsx(TableRow, null, __jsx(TableCell, {\n    colSpan: 5\n  }, __jsx(\"div\", {\n    className: classes.emptyCart\n  }, __jsx(Typography, {\n    variant: \"h5\"\n  }, \"Your Cart is empty\"))))))), __jsx(Grid, {\n    container: true,\n    mt: 5,\n    className: classes.distance_apart\n  }, OrderTotal > 0 ? __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(Box, {\n    display: \"flex\",\n    justifyContent: \"center\",\n    ml: 2,\n    mt: 5\n  }, __jsx(TextField, {\n    placeholder: \"Coupon Code\",\n    label: \"Coupon Code\",\n    variant: \"outlined\",\n    size: \"medium\",\n    name: \"couponValue\",\n    fullWidth: true,\n    type: \"couponValue\",\n    onChange: handleChange,\n    value: coupanValue ? coupanValue : formState.values.couponValue || '',\n    className: classes.apply_field\n  }), couponLoader ? __jsx(Button, {\n    variant: \"contained\",\n    color: \"secondary\",\n    className: classes.apply_btn\n  }, \"Processing....\") : __jsx(Button, {\n    variant: \"contained\",\n    color: \"secondary\",\n    className: classes.apply_promo_btn,\n    onClick: handleApplyCoupon\n  }, \"Apply Code\")), __jsx(Box, {\n    display: \"flex\",\n    ml: 2\n  }, __jsx(\"p\", {\n    className: classes.error_msg\n  }, error))) : null, __jsx(Grid, {\n    xs: 6,\n    item: true,\n    mt: 5,\n    className: classes.centering\n  }, OrderTotal > 0 ? __jsx(Grid, {\n    xs: 12,\n    item: true\n  }, __jsx(Box, {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    className: classes.calculationBlock,\n    mt: 5\n  }, __jsx(Box, {\n    className: classes.calcTitle\n  }, \"Order total:\"), __jsx(Box, {\n    className: classes.calcValue\n  }, getTotal(SelectedData) ? \"$\".concat(getTotal(SelectedData).toFixed(2)) : 'N.A')), __jsx(Box, {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    className: classes.calculationBlock\n  }, __jsx(Box, {\n    className: classes.calcTitle\n  }, \"Coupon Discount:\"), __jsx(Box, {\n    className: classes.calcValue\n  }, \"$\", coupanCode.discountedAmount ? \"\".concat(coupanCode.discountedAmount) : 0)), __jsx(Box, {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    className: classes.calculationBlock\n  }, __jsx(Box, {\n    className: classes.calcTitle\n  }, \"Grand total:\"), __jsx(Box, {\n    className: classes.calcValue\n  }, coupanCode.grandTotal ? \"$\".concat(coupanCode.grandTotal) : getTotal(SelectedData) ? \"$\".concat(getTotal(SelectedData).toFixed(2)) : 0))) : null)), __jsx(Box, {\n    className: classes.buttonBox\n  }, __jsx(Box, {\n    my: 1,\n    mx: 2,\n    className: classes.rightSide\n  }, __jsx(Link, {\n    href: \"/courses\"\n  }, __jsx(\"a\", {\n    className: clsx(classes.commonBtn)\n  }, \"Continue Shopping\"))), OrderTotal > 0 ? __jsx(Box, {\n    my: 1,\n    mx: 2,\n    className: classes.rightSide\n  }, __jsx(Button, {\n    variant: \"outlined\",\n    onClick: orderDetailOpen,\n    className: classes.commonBtn\n  }, \"Checkout\")) : null)))))))), __jsx(Modal, {\n    fullWidth: false,\n    maxWidth: \"sm\",\n    open: orderModalOpen,\n    handleClose: !cancelBtn ? handleOrderModalClose : null,\n    iFrame: false,\n    title: \"\",\n    content: __jsx(OrderDetail, {\n      modualData: \"this\",\n      selectedId: checkoutModules,\n      courseId: \"\",\n      handleOrderModalClose: handleOrderModalClose,\n      courseTitle: \"\",\n      promoId: promoId ? promoId : null,\n      handleLoader: handleLoader,\n      handleCancelBtn: handleCancelBtn,\n      authToken: authToken\n    })\n  }));\n};\n\nexport default AddCard;","map":null,"metadata":{},"sourceType":"module"}