{"ast":null,"code":"import _defineProperty from \"C:/xampp/htdocs/coinfield/coinfied/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\coinfield\\\\coinfied\\\\frontend\\\\src\\\\views\\\\AddCard\\\\components\\\\OrderDetail\\\\OrderDetail.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport blue from '@material-ui/core/colors/blue';\nimport Grid from '@material-ui/core/Grid';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport useTheme from '@material-ui/core/styles/useTheme';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport clsx from 'clsx';\nimport Toast from 'components/toaster';\nimport { ApiRoutes } from 'config';\nimport { ApiHelper } from 'helper';\nimport router from 'next/router';\nimport React, { useEffect, useState } from 'react';\nimport InputMask from 'react-input-mask';\nimport Swal from 'sweetalert2';\nimport validate from 'validate.js';\nimport { useStore } from '../../../../store';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    '& .MuiTextField-root': {\n      backgroundColor: '#fff'\n    }\n  },\n  sectionDescription: {\n    background: blue[900]\n  },\n  sectionAlternateForm: {\n    background: 'transparent',\n    backgroundImage: `linear-gradient(180deg, ${theme.palette.background.paper} 300px, ${theme.palette.primary.dark} 0%)`\n  },\n  textWhite: {\n    color: '#fff'\n  },\n  error_msg: {\n    color: \"red\"\n  },\n  success_msg: {\n    color: \"green\"\n  },\n  heroContainer: {\n    minWidth: \"1236px\"\n  },\n  contentSection: {\n    minHeight: \"500px\",\n    position: \"relative\",\n    '& p': {\n      fontSize: \"18px\",\n      lineHeight: \"28px\"\n    }\n  },\n  sectionHeader: {\n    paddingBottom: \"30px\",\n    borderBottom: \"1px solid #ddd\",\n    marginBottom: \"20px\"\n  },\n  listItem: {\n    display: 'flex',\n    justifyContent: 'space-between'\n  },\n  modualWrap: {\n    borderBottom: \"1px solid #ddd\",\n    marginBottom: \"20px\"\n  },\n  modualAmount: {\n    width: \"100px\",\n    fontWeight: \"700\"\n  },\n  modualList: {\n    fontSize: \"18px\",\n    position: \"relative\",\n    paddingLeft: \"20px\",\n    paddingBottom: \"20px\",\n    fontWeight: \"300\",\n    color: \"#020202\",\n    '&::before': {\n      content: ' \"\" ',\n      display: \"block\",\n      width: \"10px\",\n      height: \"10px\",\n      position: \"absolute\",\n      backgroundColor: '#000',\n      top: '5px',\n      left: '0px',\n      borderRadius: \"50%\"\n    }\n  },\n  calculationBlock: {\n    paddingBottom: \"15px\"\n  },\n  calcTitle: {\n    paddingRight: \"20px\",\n    textAlign: \"right\",\n    width: \"calc(100% - 100px)\",\n    fontSize: '18px'\n  },\n  calcValue: {\n    width: \"100px\",\n    fontSize: '18px',\n    fontWeight: '800'\n  },\n  apply_btn: {\n    width: \"200px\"\n  },\n  paymentWrap: {\n    backgroundColor: \"#eeeeee85\",\n    border: \"1px solid #ddd\"\n  },\n  paymentLoader: {\n    position: 'absolute',\n    zIndex: '10',\n    top: '0',\n    left: '0',\n    width: '100%',\n    height: '100%',\n    background: '#fff',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    flexDirection: 'column'\n  },\n  formError: {\n    color: \"red\",\n    fontSize: \"18px\"\n  },\n  cardInput: {\n    border: \"1px solid rgba(0, 0, 0, 0.23)\",\n    padding: \"18.5px 14px\",\n    height: \"1.1876em\",\n    margin: \"0\",\n    display: \"block\",\n    minWidth: \"0\",\n    background: \"none\",\n    // boxSizing: \"content-box\",\n    letterSpacing: \"inherit\",\n    animationDuration: \"10ms\",\n    borderRadius: \"4px\",\n    backgroundColor: \"#fff\",\n    height: \"61px\",\n    fontSize: \"1rem\",\n    width: \"100%\"\n  },\n  promoCodeBlock: {\n    fontSize: \"16px\"\n  },\n  promoCode: {\n    padding: \"5px 10px\",\n    fontWeight: \"900\",\n    color: \"#f95c20\",\n    border: \"1px solid #f96b36\",\n    margin: \"0px 5px\",\n    borderRadius: \"20px\"\n  },\n  paymentButton: {\n    background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\n    padding: '10px 30px',\n    color: '#fff',\n    fontWeight: '900',\n    fontSize: '16px',\n    width: \"100%\"\n  },\n  fontWeight700: {\n    fontWeight: \"700\"\n  },\n  errorText: {\n    color: 'red',\n    fontSize: \"14px\"\n  },\n  body: {\n    \"& .swal2-container\": {\n      zIndex: \"99999\"\n    }\n  }\n}));\nconst schema = {\n  cardHolderName: {\n    presence: {\n      allowEmpty: false,\n      message: 'is required'\n    },\n    length: {\n      maximum: 120\n    }\n  },\n  cardNumber: {\n    presence: {\n      allowEmpty: false,\n      message: 'is required'\n    },\n    length: {\n      minimum: 14,\n      maximum: 16\n    }\n  },\n  expiry: {\n    presence: {\n      allowEmpty: false,\n      message: 'date is required'\n    }\n  },\n  cvc: {\n    presence: {\n      allowEmpty: false,\n      message: 'is required'\n    },\n    length: {\n      minimum: 3,\n      maximum: 4\n    }\n  }\n};\n\nconst OrderDetail = props => {\n  _s();\n\n  const {\n    authToken\n  } = props;\n  const classes = useStyles();\n  const {\n    modualData,\n    selectedId,\n    courseId,\n    courseTitle,\n    promoId\n  } = props;\n  const {\n    0: loader,\n    1: setLoader\n  } = useState(false);\n  const {\n    0: paymentloader,\n    1: setPaymentLoader\n  } = useState(false);\n  const {\n    0: modualFinal,\n    1: setModualFinal\n  } = useState([]); // As per condition 4 module 1000 and 8 module 2000\n\n  const {\n    0: error,\n    1: setError\n  } = useState('');\n  const {\n    0: formError,\n    1: setFormError\n  } = useState('');\n  const {\n    getCartLength\n  } = useStore();\n  const [formState, setFormState] = React.useState({\n    isValid: false,\n    values: {},\n    touched: {},\n    errors: {}\n  });\n  const theme = useTheme();\n  const isMd = useMediaQuery(theme.breakpoints.up('md'), {\n    defaultMatches: true\n  });\n  useEffect(props => {\n    fetchUserData();\n  }, []);\n  useEffect(() => {\n    const errors = validate(formState.values, schema);\n    setFormState(formState => _objectSpread(_objectSpread({}, formState), {}, {\n      isValid: errors ? false : true,\n      errors: errors || {}\n    }));\n  }, [formState.values]);\n  useEffect(() => {\n    const modualData = [];\n    setModualFinal(props.selectedId);\n  }, [modualData]);\n\n  const handleChange = event => {\n    event.persist();\n\n    if (event.target.name === 'cardNumber') {\n      let getLength = event.target.value.replace(/-|\\s/g, \"\");\n      ;\n      setFormState(formState => _objectSpread(_objectSpread({}, formState), {}, {\n        values: _objectSpread(_objectSpread({}, formState.values), {}, {\n          cardNumber: getLength\n        }),\n        touched: _objectSpread(_objectSpread({}, formState.touched), {}, {\n          cardNumber: true\n        })\n      }));\n    } else {\n      setFormState(formState => _objectSpread(_objectSpread({}, formState), {}, {\n        values: _objectSpread(_objectSpread({}, formState.values), {}, {\n          [event.target.name]: event.target.value\n        }),\n        touched: _objectSpread(_objectSpread({}, formState.touched), {}, {\n          [event.target.name]: true\n        })\n      }));\n    }\n\n    setFormError('');\n  };\n\n  const fetchUserData = async () => {\n    const response = await new ApiHelper().FetchFromServer(ApiRoutes.GETUSERDETAILS.service, ApiRoutes.GETUSERDETAILS.url, ApiRoutes.GETUSERDETAILS.method, ApiRoutes.GETUSERDETAILS.authenticate, authToken, undefined, undefined);\n\n    if (response && !response.isError) {\n      const data = response.data.data;\n      setFormState(formState => _objectSpread(_objectSpread({}, formState), {}, {\n        values: {\n          firstName: data.firstName,\n          lastName: data.lastName,\n          email: data.email\n        }\n      }));\n      setLoader(false);\n    } else {\n      Toast.fire({\n        icon: 'error',\n        title: \"Something went wrong\"\n      });\n      router.push('/signin');\n      localStorage.setItem('orderDetails', '');\n    }\n  };\n\n  const handlePayment = () => {\n    if (formState.isValid) {\n      const {\n        firstName,\n        lastName,\n        email,\n        cardHolderName,\n        cardNumber,\n        cvc,\n        expiry\n      } = formState.values;\n      const getCurrentYear = new Date().getFullYear();\n      const currentYear = getCurrentYear.toString().substring(2);\n      const card_exp_month = expiry.substring(0, 2);\n      const card_exp_year = expiry.substring(3);\n\n      if (card_exp_month > 12) {\n        setFormError(\"Please enter a valid month\");\n        return;\n      }\n\n      if (card_exp_year < currentYear) {\n        setFormError(\"Card expiry can not be set to less than current year\");\n        return;\n      }\n\n      const data = {\n        email,\n        name: `${firstName}${lastName}`,\n        cardNumber: cardNumber.replace(/\\s/g, \"\"),\n        cardExpMonth: card_exp_month,\n        cardExpYear: card_exp_year,\n        cardCvc: cvc,\n        cardName: cardHolderName,\n        promoId: promoId,\n        moduleId: modualFinal\n      };\n      makePayment(data);\n    } else {\n      // setFormError(\"Please fill all required details\")\n      setFormState(formState => _objectSpread(_objectSpread({}, formState), {}, {\n        touched: _objectSpread(_objectSpread({}, formState.touched), formState.errors)\n      }));\n    }\n  };\n\n  const makePayment = async data => {\n    setPaymentLoader(true);\n    const response = await new ApiHelper().FetchFromServer(ApiRoutes.MAKEPAYMENT.service, ApiRoutes.MAKEPAYMENT.url, ApiRoutes.MAKEPAYMENT.method, ApiRoutes.MAKEPAYMENT.authenticate, authToken, undefined, data);\n\n    if (response && !response.isError) {\n      const data = response.data.data;\n      Toast.fire({\n        icon: 'success',\n        title: \"Payment successfull\"\n      });\n      props.handleOrderModalClose();\n      props.handleLoader(true);\n      localStorage.setItem(\"SelectedCourseModules\", JSON.stringify([]));\n      localStorage.setItem(\"purchaseCompleteCourse\", JSON.stringify({}));\n      localStorage.setItem(\"allCourseModules\", JSON.stringify([]));\n      getCartLength(0);\n      alertBox();\n    } else {\n      Toast.fire({\n        icon: 'error',\n        title: response.messages[0]\n      }); // setFormError(response.messages[0])\n\n      setPaymentLoader(false);\n    }\n  };\n\n  const alertBox = () => {\n    Swal.fire({\n      text: 'Your Order has been Successfully Placed',\n      padding: '2em',\n      showDenyButton: false,\n      showCancelButton: false,\n      confirmButtonColor: '#3085d6',\n      confirmButtonText: 'Go  To Dashboard'\n    }).then(result => {\n      router.push('/dashboard?pid=billing');\n    });\n  };\n\n  const hasError = field => formState.touched[field] && formState.errors[field] ? true : false;\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 5\n    }\n  }, __jsx(Box, {\n    className: classes.contentSection,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 7\n    }\n  }, paymentloader ? __jsx(\"div\", {\n    className: classes.paymentLoader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 9\n    }\n  }, __jsx(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 11\n    }\n  }, __jsx(CircularProgress, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 13\n    }\n  })), __jsx(Box, {\n    pt: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 11\n    }\n  }, __jsx(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 13\n    }\n  }, \"Please Wait....\")), __jsx(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 11\n    }\n  }, __jsx(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 13\n    }\n  }, \"Don't refresh page or don't use back button while payment is in progress.\"))) : \"\", !loader ? __jsx(React.Fragment, null, __jsx(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 13\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    sm: 12,\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 15\n    }\n  }, __jsx(Box, {\n    p: 2,\n    className: clsx(classes.paymentWrap, classes.root),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 17\n    }\n  }, __jsx(Typography, {\n    variant: isMd ? 'h5' : 'body1',\n    className: clsx(classes.fontWeight700, classes.sectionHeader),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 17\n    }\n  }, \"Payment Details\"), __jsx(Grid, {\n    container: true,\n    spacing: isMd ? 2 : 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 17\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 17\n    }\n  }, __jsx(Typography, {\n    variant: \"subtitle1\",\n    color: \"textPrimary\",\n    className: classes.inputTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 19\n    }\n  }, \"First Name\"), __jsx(TextField, {\n    placeholder: \"First name*\",\n    label: \"\",\n    variant: \"outlined\",\n    size: \"medium\",\n    fullWidth: true,\n    name: \"firstName\",\n    type: \"firstName\",\n    error: hasError('firstName'),\n    value: formState.values.firstName || '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 21\n    }\n  })), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 455,\n      columnNumber: 17\n    }\n  }, __jsx(Typography, {\n    variant: \"subtitle1\",\n    color: \"textPrimary\",\n    className: classes.inputTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 19\n    }\n  }, \"Last Name\"), __jsx(TextField, {\n    placeholder: \"Last Name *\",\n    label: \"\",\n    variant: \"outlined\",\n    size: \"medium\",\n    fullWidth: true,\n    name: \"lastName\",\n    type: \"lastName\",\n    value: formState.values.lastName || '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 19\n    }\n  })), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    sm: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 474,\n      columnNumber: 17\n    }\n  }, __jsx(Typography, {\n    variant: \"subtitle1\",\n    color: \"textPrimary\",\n    className: classes.inputTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 475,\n      columnNumber: 19\n    }\n  }, \"E-mail\"), __jsx(TextField, {\n    placeholder: \"Email\",\n    label: \"\",\n    variant: \"outlined\",\n    size: \"medium\",\n    fullWidth: true,\n    name: \"email\",\n    type: \"email\",\n    value: formState.values.email || '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 19\n    }\n  })), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    sm: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 493,\n      columnNumber: 17\n    }\n  }, __jsx(Typography, {\n    variant: \"subtitle1\",\n    color: \"textPrimary\",\n    className: classes.inputTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 494,\n      columnNumber: 19\n    }\n  }, \"Card Details*\")), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    sm: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 502,\n      columnNumber: 17\n    }\n  }, __jsx(Typography, {\n    variant: \"subtitle1\",\n    color: \"textPrimary\",\n    className: classes.inputTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 503,\n      columnNumber: 19\n    }\n  }, \"Card Number*\"), __jsx(InputMask, {\n    mask: \"9999-9999-9999-9999\",\n    maskChar: \" \",\n    onChange: handleChange,\n    value: formState.values.cardNumber || '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 510,\n      columnNumber: 19\n    }\n  }, inputProps => __jsx(TextField, {\n    placeholder: \"9999-9999-9999-9999\",\n    label: \"\",\n    variant: \"outlined\",\n    size: \"medium\",\n    fullWidth: true,\n    name: \"cardNumber\",\n    helpertext: hasError('cardNumber') ? formState.errors.cardNumber[0] : null,\n    error: hasError('cardNumber'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 21\n    }\n  })), hasError('cardNumber') ? __jsx(\"span\", {\n    className: classes.errorText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 533,\n      columnNumber: 21\n    }\n  }, formState.errors.cardNumber[0]) : null), __jsx(Grid, {\n    item: true,\n    xs: 6,\n    sm: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 537,\n      columnNumber: 17\n    }\n  }, __jsx(Typography, {\n    variant: \"subtitle1\",\n    color: \"textPrimary\",\n    className: classes.inputTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 538,\n      columnNumber: 19\n    }\n  }, \"Expiry* (MM-YY)\"), __jsx(InputMask, {\n    mask: \"99-99\",\n    maskChar: \" \",\n    onChange: handleChange,\n    value: formState.values.expiry || '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 545,\n      columnNumber: 19\n    }\n  }, inputProps => __jsx(TextField, {\n    placeholder: \"MM-YY\",\n    label: \"\",\n    variant: \"outlined\",\n    size: \"medium\",\n    fullWidth: true,\n    name: \"expiry\",\n    helpertext: hasError('expiry') ? formState.errors.expiry[0] : null,\n    error: hasError('expiry'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 552,\n      columnNumber: 19\n    }\n  })), hasError('expiry') ? __jsx(\"span\", {\n    className: classes.errorText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 567,\n      columnNumber: 21\n    }\n  }, formState.errors.expiry[0]) : null, formError ? __jsx(\"span\", {\n    className: classes.errorText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 572,\n      columnNumber: 23\n    }\n  }, formError) : null), __jsx(Grid, {\n    item: true,\n    xs: 6,\n    sm: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 576,\n      columnNumber: 17\n    }\n  }, __jsx(Typography, {\n    variant: \"subtitle1\",\n    color: \"textPrimary\",\n    className: classes.inputTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 577,\n      columnNumber: 19\n    }\n  }, \"CVC*\"), __jsx(TextField // placeholder=\"CVC*\"\n  , {\n    label: \"\",\n    variant: \"outlined\",\n    size: \"medium\",\n    type: \"password\",\n    fullWidth: true,\n    name: \"cvc\",\n    onChange: handleChange,\n    value: formState.values.cvc || '',\n    helpertext: hasError('cvc') ? formState.errors.cvc[0] : null,\n    error: hasError('cvc'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 584,\n      columnNumber: 21\n    }\n  }), hasError('cvc') ? __jsx(\"span\", {\n    className: classes.errorText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 600,\n      columnNumber: 21\n    }\n  }, formState.errors.cvc[0]) : null), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    sm: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 604,\n      columnNumber: 17\n    }\n  }, __jsx(Typography, {\n    variant: \"subtitle1\",\n    color: \"textPrimary\",\n    className: classes.inputTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 605,\n      columnNumber: 19\n    }\n  }, \"Card Holder Name*\"), __jsx(TextField, {\n    placeholder: \"Card holder name*\",\n    label: \"\",\n    variant: \"outlined\",\n    size: \"medium\",\n    fullWidth: true,\n    name: \"cardHolderName\",\n    helpertext: hasError('cardHolderName') ? formState.errors.cardHolderName[0] : null,\n    error: hasError('cardHolderName'),\n    type: \"cardHolderName\",\n    onChange: handleChange,\n    value: formState.values.cardHolderName || '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 612,\n      columnNumber: 21\n    }\n  }), hasError('cardHolderName') ? __jsx(\"span\", {\n    className: classes.errorText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 628,\n      columnNumber: 21\n    }\n  }, formState.errors.cardHolderName[0]) : null), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    sm: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 632,\n      columnNumber: 17\n    }\n  }, __jsx(Button, {\n    variant: \"contained\",\n    color: \"secondary\",\n    onClick: handlePayment,\n    size: \"large\",\n    className: classes.paymentButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 633,\n      columnNumber: 17\n    }\n  }, \"Make Payment\")), __jsx(Box, {\n    className: classes.formError,\n    pt: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 643,\n      columnNumber: 19\n    }\n  }, formError)))))) : \"\"));\n};\n\n_s(OrderDetail, \"jsk/eSlWkTfbf3mizubUmLoZ1Xo=\", false, function () {\n  return [useStyles, useStore, useTheme, useMediaQuery];\n});\n\n_c = OrderDetail;\nexport default OrderDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderDetail\");","map":{"version":3,"sources":["C:/xampp/htdocs/coinfield/coinfied/frontend/src/views/AddCard/components/OrderDetail/OrderDetail.js"],"names":["Box","Button","CircularProgress","blue","Grid","makeStyles","useTheme","TextField","Typography","useMediaQuery","clsx","Toast","ApiRoutes","ApiHelper","router","React","useEffect","useState","InputMask","Swal","validate","useStore","useStyles","theme","root","backgroundColor","sectionDescription","background","sectionAlternateForm","backgroundImage","palette","paper","primary","dark","textWhite","color","error_msg","success_msg","heroContainer","minWidth","contentSection","minHeight","position","fontSize","lineHeight","sectionHeader","paddingBottom","borderBottom","marginBottom","listItem","display","justifyContent","modualWrap","modualAmount","width","fontWeight","modualList","paddingLeft","content","height","top","left","borderRadius","calculationBlock","calcTitle","paddingRight","textAlign","calcValue","apply_btn","paymentWrap","border","paymentLoader","zIndex","alignItems","flexDirection","formError","cardInput","padding","margin","letterSpacing","animationDuration","promoCodeBlock","promoCode","paymentButton","fontWeight700","errorText","body","schema","cardHolderName","presence","allowEmpty","message","length","maximum","cardNumber","minimum","expiry","cvc","OrderDetail","props","authToken","classes","modualData","selectedId","courseId","courseTitle","promoId","loader","setLoader","paymentloader","setPaymentLoader","modualFinal","setModualFinal","error","setError","setFormError","getCartLength","formState","setFormState","isValid","values","touched","errors","isMd","breakpoints","up","defaultMatches","fetchUserData","handleChange","event","persist","target","name","getLength","value","replace","response","FetchFromServer","GETUSERDETAILS","service","url","method","authenticate","undefined","isError","data","firstName","lastName","email","fire","icon","title","push","localStorage","setItem","handlePayment","getCurrentYear","Date","getFullYear","currentYear","toString","substring","card_exp_month","card_exp_year","cardExpMonth","cardExpYear","cardCvc","cardName","moduleId","makePayment","MAKEPAYMENT","handleOrderModalClose","handleLoader","JSON","stringify","alertBox","messages","text","showDenyButton","showCancelButton","confirmButtonColor","confirmButtonText","then","result","hasError","field","inputTitle","inputProps"],"mappings":"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","sourcesContent":["import Box from '@material-ui/core/Box';\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport blue from '@material-ui/core/colors/blue';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\nimport useTheme from '@material-ui/core/styles/useTheme';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport clsx from 'clsx';\r\nimport Toast from 'components/toaster';\r\nimport { ApiRoutes } from 'config';\r\nimport { ApiHelper } from 'helper';\r\nimport router from 'next/router';\r\nimport React, { useEffect, useState } from 'react';\r\nimport InputMask from 'react-input-mask';\r\nimport Swal from 'sweetalert2';\r\nimport validate from 'validate.js';\r\nimport { useStore } from '../../../../store';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      backgroundColor:'#fff'\r\n    },\r\n  },\r\n  sectionDescription: {\r\n    background: blue[900],\r\n  },\r\n  sectionAlternateForm: {\r\n    background: 'transparent',\r\n    backgroundImage: `linear-gradient(180deg, ${theme.palette.background.paper} 300px, ${theme.palette.primary.dark} 0%)`,\r\n  },\r\n  textWhite:{\r\n    color: '#fff'\r\n  },\r\n  error_msg:{\r\n    color:\"red\"\r\n  },\r\n  success_msg:{\r\n    color:\"green\"\r\n  },\r\n  heroContainer:{\r\n    minWidth:\"1236px\",\r\n  },\r\n  contentSection:{\r\n    minHeight:\"500px\",\r\n    position:\"relative\",\r\n    '& p':{\r\n      fontSize:\"18px\",\r\n      lineHeight:\"28px\"\r\n    }\r\n  },\r\n  sectionHeader:{\r\n    paddingBottom:\"30px\",\r\n    borderBottom:\"1px solid #ddd\",\r\n    marginBottom:\"20px\"\r\n  },\r\n  listItem:{\r\n    display:'flex',\r\n    justifyContent: 'space-between'\r\n  },\r\n  modualWrap:{\r\n    borderBottom:\"1px solid #ddd\",\r\n    marginBottom:\"20px\"\r\n  },\r\n  modualAmount:{\r\n    width:\"100px\",\r\n    fontWeight:\"700\"\r\n  },\r\n  modualList:{\r\n    fontSize:\"18px\",\r\n    position:\"relative\",\r\n    paddingLeft:\"20px\",\r\n    paddingBottom:\"20px\",\r\n    fontWeight: \"300\",\r\n    color: \"#020202\",\r\n    '&::before': {\r\n      content:' \"\" ',\r\n      display:\"block\",\r\n      width:\"10px\",\r\n      height:\"10px\",\r\n      position:\"absolute\",\r\n      backgroundColor: '#000',\r\n      top: '5px',\r\n      left: '0px',\r\n      borderRadius:\"50%\"\r\n    },\r\n  },\r\n  calculationBlock:{\r\n    paddingBottom:\"15px\"\r\n  },\r\n  calcTitle:{\r\n    paddingRight:\"20px\",\r\n    textAlign:\"right\",\r\n    width:\"calc(100% - 100px)\",\r\n    fontSize: '18px'\r\n  },\r\n  calcValue:{\r\n    width:\"100px\",\r\n    fontSize: '18px',\r\n    fontWeight: '800'\r\n  },\r\n  apply_btn:{\r\n    width:\"200px\"\r\n  },\r\n  paymentWrap:{\r\n    backgroundColor:\"#eeeeee85\",\r\n    border:\"1px solid #ddd\"\r\n  },\r\n  paymentLoader:{\r\n    position: 'absolute',\r\n    zIndex: '10',\r\n    top: '0',\r\n    left:'0',\r\n    width: '100%',\r\n    height: '100%',\r\n    background: '#fff',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    flexDirection: 'column',\r\n  },\r\n  formError:{\r\n    color:\"red\",\r\n    fontSize:\"18px\",\r\n  },\r\n  cardInput:{\r\n    border:\"1px solid rgba(0, 0, 0, 0.23)\",\r\n    padding:\"18.5px 14px\",\r\n    height: \"1.1876em\",\r\n    margin: \"0\",\r\n    display: \"block\",\r\n    minWidth: \"0\",\r\n    background: \"none\",\r\n    // boxSizing: \"content-box\",\r\n    letterSpacing: \"inherit\",\r\n    animationDuration: \"10ms\",\r\n    borderRadius: \"4px\",\r\n    backgroundColor:\"#fff\",\r\n    height:\"61px\",\r\n    fontSize:\"1rem\",\r\n    width:\"100%\"\r\n  },\r\n  promoCodeBlock:{\r\n    fontSize:\"16px\"\r\n  },\r\n  promoCode:{\r\n    padding:\"5px 10px\",\r\n    fontWeight:\"900\",\r\n    color: \"#f95c20\",\r\n    border: \"1px solid #f96b36\",\r\n    margin: \"0px 5px\",\r\n    borderRadius: \"20px\"\r\n  },\r\n  paymentButton:{\r\n    background:'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\r\n    padding: '10px 30px',\r\n    color: '#fff',\r\n    fontWeight: '900',\r\n    fontSize: '16px',\r\n    width:\"100%\"\r\n  },\r\n  fontWeight700:{\r\n    fontWeight:\"700\"\r\n  },\r\n  errorText:{\r\n    color: 'red',\r\n    fontSize: \"14px\"\r\n  },\r\n  body:{\r\n    \"& .swal2-container\": {\r\n      zIndex: \"99999\",\r\n    }\r\n  }\r\n}));\r\n\r\nconst schema = {\r\n  cardHolderName: {\r\n    presence: { allowEmpty: false, message: 'is required' },\r\n    length: {\r\n      maximum: 120,\r\n    },\r\n  },\r\n  cardNumber: {\r\n    presence: { allowEmpty: false, message: 'is required' },\r\n    length: {\r\n      minimum: 14,\r\n      maximum: 16,\r\n    },\r\n  },\r\n  expiry: {\r\n    presence: { allowEmpty: false, message: 'date is required' },\r\n  },\r\n  cvc: {\r\n    presence: { allowEmpty: false, message: 'is required' },\r\n    length: {\r\n      minimum: 3,\r\n      maximum: 4,\r\n    },\r\n  },\r\n}\r\n\r\nconst OrderDetail = props => {\r\n  const { authToken } = props;\r\n  const classes = useStyles();\r\n  const {modualData, selectedId, courseId, courseTitle,promoId} = props\r\n  const [loader, setLoader] = useState(false);\r\n  const [paymentloader, setPaymentLoader] = useState(false);\r\n  const [modualFinal, setModualFinal] = useState([]);\r\n  // As per condition 4 module 1000 and 8 module 2000\r\n  const [error, setError] = useState('');\r\n  const [formError, setFormError] = useState('');\r\n  const { getCartLength } = useStore();\r\n  const [formState, setFormState] = React.useState({\r\n    isValid: false,\r\n    values: {},\r\n    touched: {},\r\n    errors: {},\r\n  });\r\n  const theme = useTheme();\r\n  const isMd = useMediaQuery(theme.breakpoints.up('md'), {\r\n    defaultMatches: true,\r\n  });\r\n\r\n  useEffect((props) => {\r\n    fetchUserData();\r\n  },[]);\r\n\r\n  useEffect(() => {\r\n    const errors = validate(formState.values, schema);\r\n    setFormState(formState => ({\r\n      ...formState,\r\n      isValid: errors ? false : true,\r\n      errors: errors || {},\r\n    }));\r\n  }, [formState.values]);\r\n\r\n  useEffect(() => {\r\n    const modualData = []\r\n    setModualFinal(props.selectedId)\r\n  },[modualData])\r\n\r\n  const handleChange = event => {\r\n    event.persist();\r\n    if(event.target.name === 'cardNumber'){\r\n      let getLength = event.target.value.replace(/-|\\s/g,\"\");;\r\n      setFormState(formState => ({\r\n        ...formState,\r\n        values: {\r\n          ...formState.values,\r\n          cardNumber:getLength,\r\n        },\r\n        touched: {\r\n          ...formState.touched,\r\n          cardNumber: true,\r\n        },\r\n      }));\r\n    }\r\n    else{\r\n      setFormState(formState => ({\r\n        ...formState,\r\n      values: {\r\n        ...formState.values,\r\n        [event.target.name]:event.target.value,\r\n      },\r\n      touched: {\r\n        ...formState.touched,\r\n        [event.target.name]: true,\r\n      },\r\n    }));\r\n  }\r\n    setFormError('')\r\n  };\r\n\r\n  const fetchUserData =async()=>{\r\n    const response = await new ApiHelper().FetchFromServer(\r\n      ApiRoutes.GETUSERDETAILS.service,\r\n      ApiRoutes.GETUSERDETAILS.url,\r\n      ApiRoutes.GETUSERDETAILS.method,\r\n      ApiRoutes.GETUSERDETAILS.authenticate,\r\n      authToken,\r\n      undefined,\r\n      undefined\r\n    );\r\n    if (response && !response.isError) {\r\n      const data = response.data.data\r\n      setFormState(formState => ({\r\n        ...formState,\r\n        values:{\r\n          firstName:data.firstName,\r\n          lastName:data.lastName,\r\n          email:data.email\r\n        }\r\n      }));\r\n      setLoader(false)\r\n    }\r\n    else{\r\n      Toast.fire({\r\n        icon: 'error',\r\n        title: \"Something went wrong\"\r\n      })\r\n      router.push('/signin')\r\n      localStorage.setItem('orderDetails', '');\r\n    }\r\n  }\r\n\r\n  const handlePayment=()=>{\r\n    if (formState.isValid) {\r\n      const {firstName,lastName,email,cardHolderName,cardNumber,cvc,expiry} = formState.values\r\n      const getCurrentYear = new Date().getFullYear()\r\n      const currentYear = getCurrentYear.toString().substring(2)\r\n      const card_exp_month = expiry.substring(0,2);\r\n      const card_exp_year = expiry.substring(3);\r\n      if(card_exp_month > 12 ){\r\n        setFormError(\"Please enter a valid month\")\r\n        return\r\n      }\r\n      if(card_exp_year < currentYear ){\r\n        setFormError(\"Card expiry can not be set to less than current year\")\r\n        return\r\n      }\r\n      const data={\r\n        email,\r\n        name:`${firstName}${lastName}`,\r\n        cardNumber:cardNumber.replace(/\\s/g, \"\"),\r\n        cardExpMonth:card_exp_month,\r\n        cardExpYear:card_exp_year,\r\n        cardCvc:cvc,\r\n        cardName:cardHolderName,\r\n        promoId:promoId,\r\n        moduleId:modualFinal,\r\n      }\r\n      makePayment(data)\r\n    }\r\n    else{\r\n      // setFormError(\"Please fill all required details\")\r\n      setFormState((formState) => ({\r\n        ...formState,\r\n        touched: {\r\n          ...formState.touched,\r\n          ...formState.errors,\r\n        },\r\n      }));\r\n    }\r\n  }\r\n  const makePayment =async(data)=>{\r\n    setPaymentLoader(true)\r\n    const response = await new ApiHelper().FetchFromServer(\r\n      ApiRoutes.MAKEPAYMENT.service,\r\n      ApiRoutes.MAKEPAYMENT.url,\r\n      ApiRoutes.MAKEPAYMENT.method,\r\n      ApiRoutes.MAKEPAYMENT.authenticate,\r\n      authToken,\r\n      undefined,\r\n      data\r\n    );\r\n    if (response && !response.isError) {\r\n      const data = response.data.data\r\n      Toast.fire({\r\n        icon: 'success',\r\n        title: \"Payment successfull\"\r\n      })\r\n      props.handleOrderModalClose()\r\n      props.handleLoader(true)\r\n      localStorage.setItem(\"SelectedCourseModules\", JSON.stringify([]));\r\n      localStorage.setItem(\"purchaseCompleteCourse\", JSON.stringify({}));\r\n      localStorage.setItem(\"allCourseModules\", JSON.stringify([]));\r\n      getCartLength(0)\r\n      alertBox()\r\n    }\r\n    else{\r\n      Toast.fire({\r\n        icon: 'error',\r\n        title: response.messages[0]\r\n      })\r\n      // setFormError(response.messages[0])\r\n      setPaymentLoader(false)\r\n    }\r\n  }\r\n\r\n  const alertBox =()=>{\r\n    Swal.fire({\r\n      text: 'Your Order has been Successfully Placed',\r\n      padding: '2em',\r\n      showDenyButton: false,\r\n      showCancelButton: false,\r\n      confirmButtonColor: '#3085d6',\r\n      confirmButtonText: 'Go  To Dashboard',\r\n    }).then((result) => {\r\n      router.push('/dashboard?pid=billing');\r\n    })\r\n  }\r\n\r\n  const hasError = field =>\r\n  formState.touched[field] && formState.errors[field] ? true : false;\r\n\r\n  return (\r\n    <div>\r\n      <Box className={classes.contentSection}>\r\n      {paymentloader ?\r\n        <div className={classes.paymentLoader}>\r\n          <Box>\r\n            <CircularProgress />\r\n          </Box>\r\n          <Box pt={2}>\r\n            <Typography variant=\"h6\">\r\n              Please Wait....\r\n            </Typography>\r\n          </Box>\r\n          <Box>\r\n            <Typography variant=\"h6\">\r\n              Don't refresh page or don't use back button while payment is in progress.\r\n            </Typography>\r\n          </Box>\r\n        </div>\r\n        :\"\"\r\n      }\r\n        {!loader ?\r\n        <>\r\n            <Grid container>\r\n              <Grid item xs={12} sm={12} md={12}>\r\n                <Box p={2} className={clsx(classes.paymentWrap,classes.root)}>\r\n                <Typography\r\n                  variant={isMd ? 'h5' : 'body1'}\r\n                  className={clsx(\r\n                    classes.fontWeight700,\r\n                    classes.sectionHeader,\r\n                  )}\r\n                >\r\n                Payment Details\r\n                </Typography>\r\n                <Grid container spacing={isMd ? 2 : 2}>\r\n                <Grid item xs={12} sm={6}>\r\n                  <Typography\r\n                    variant=\"subtitle1\"\r\n                    color=\"textPrimary\"\r\n                    className={classes.inputTitle}\r\n                  >\r\n                    First Name\r\n                  </Typography>\r\n                    <TextField\r\n                      placeholder=\"First name*\"\r\n                      label=\"\"\r\n                      variant=\"outlined\"\r\n                      size=\"medium\"\r\n                      fullWidth\r\n                      name=\"firstName\"\r\n                      type=\"firstName\"\r\n                      error={hasError('firstName')}\r\n                      value={formState.values.firstName || ''}\r\n                    />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <Typography\r\n                    variant=\"subtitle1\"\r\n                    color=\"textPrimary\"\r\n                    className={classes.inputTitle}\r\n                  >\r\n                    Last Name\r\n                  </Typography>\r\n                  <TextField\r\n                    placeholder=\"Last Name *\"\r\n                    label=\"\"\r\n                    variant=\"outlined\"\r\n                    size=\"medium\"\r\n                    fullWidth\r\n                    name=\"lastName\"\r\n                    type=\"lastName\"\r\n                    value={formState.values.lastName || ''}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} sm={12}>\r\n                  <Typography\r\n                    variant=\"subtitle1\"\r\n                    color=\"textPrimary\"\r\n                    className={classes.inputTitle}\r\n                  >\r\n                    E-mail\r\n                  </Typography>\r\n                  <TextField\r\n                    placeholder=\"Email\"\r\n                    label=\"\"\r\n                    variant=\"outlined\"\r\n                    size=\"medium\"\r\n                    fullWidth\r\n                    name=\"email\"\r\n                    type=\"email\"\r\n                    value={formState.values.email || ''}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} sm={12}>\r\n                  <Typography\r\n                    variant=\"subtitle1\"\r\n                    color=\"textPrimary\"\r\n                    className={classes.inputTitle}\r\n                  >\r\n                    Card Details*\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item xs={12} sm={12}>\r\n                  <Typography\r\n                    variant=\"subtitle1\"\r\n                    color=\"textPrimary\"\r\n                    className={classes.inputTitle}\r\n                  >\r\n                    Card Number*\r\n                  </Typography>\r\n                  <InputMask\r\n                    mask=\"9999-9999-9999-9999\"\r\n                    maskChar=\" \"\r\n                    onChange={handleChange}\r\n                    value={formState.values.cardNumber || ''}\r\n                  >\r\n                  {inputProps =>\r\n                    <TextField\r\n                      placeholder=\"9999-9999-9999-9999\"\r\n                      label=\"\"\r\n                      variant=\"outlined\"\r\n                      size=\"medium\"\r\n                      fullWidth\r\n                      name=\"cardNumber\"\r\n                      helpertext={\r\n                        hasError('cardNumber') ? formState.errors.cardNumber[0] : null\r\n                      }\r\n                      error={hasError('cardNumber')}\r\n                    >\r\n                    </TextField>\r\n                  }\r\n                  </InputMask>\r\n                  {hasError('cardNumber') ?\r\n                    <span className={classes.errorText}>\r\n                      {formState.errors.cardNumber[0]}\r\n                    </span> : null}\r\n                </Grid>\r\n                <Grid item xs={6} sm={6}>\r\n                  <Typography\r\n                    variant=\"subtitle1\"\r\n                    color=\"textPrimary\"\r\n                    className={classes.inputTitle}\r\n                  >\r\n                    Expiry* (MM-YY)\r\n                  </Typography>\r\n                  <InputMask\r\n                    mask=\"99-99\"\r\n                    maskChar=\" \"\r\n                    onChange={handleChange}\r\n                    value={formState.values.expiry || ''}\r\n                  >\r\n                  {inputProps =>\r\n                  <TextField\r\n                    placeholder=\"MM-YY\"\r\n                    label=\"\"\r\n                    variant=\"outlined\"\r\n                    size=\"medium\"\r\n                    fullWidth\r\n                    name=\"expiry\"\r\n                    helpertext={\r\n                      hasError('expiry') ? formState.errors.expiry[0] : null\r\n                    }\r\n                    error={hasError('expiry')}\r\n                  />\r\n                  }\r\n                  </InputMask>\r\n                  {hasError('expiry') ?\r\n                    <span className={classes.errorText}>\r\n                      {formState.errors.expiry[0]}\r\n                    </span> : null}\r\n\r\n                    {formError ?\r\n                      <span className={classes.errorText}>\r\n                       {formError}\r\n                    </span> : null}\r\n                </Grid>\r\n                <Grid item xs={6} sm={6}>\r\n                  <Typography\r\n                    variant=\"subtitle1\"\r\n                    color=\"textPrimary\"\r\n                    className={classes.inputTitle}\r\n                  >\r\n                    CVC*\r\n                  </Typography>\r\n                    <TextField\r\n                      // placeholder=\"CVC*\"\r\n                      label=\"\"\r\n                      variant=\"outlined\"\r\n                      size=\"medium\"\r\n                      type={\"password\"}\r\n                      fullWidth\r\n                      name=\"cvc\"\r\n                      onChange={handleChange}\r\n                      value={formState.values.cvc || ''}\r\n                      helpertext={\r\n                        hasError('cvc') ? formState.errors.cvc[0] : null\r\n                      }\r\n                      error={hasError('cvc')}\r\n                    />\r\n                    {hasError('cvc') ?\r\n                    <span className={classes.errorText}>\r\n                      {formState.errors.cvc[0]}\r\n                    </span> : null}\r\n                </Grid>\r\n                <Grid item xs={12} sm={12}>\r\n                  <Typography\r\n                    variant=\"subtitle1\"\r\n                    color=\"textPrimary\"\r\n                    className={classes.inputTitle}\r\n                  >\r\n                    Card Holder Name*\r\n                  </Typography>\r\n                    <TextField\r\n                      placeholder=\"Card holder name*\"\r\n                      label=\"\"\r\n                      variant=\"outlined\"\r\n                      size=\"medium\"\r\n                      fullWidth\r\n                      name=\"cardHolderName\"\r\n                      helpertext={\r\n                        hasError('cardHolderName') ? formState.errors.cardHolderName[0] : null\r\n                      }\r\n                      error={hasError('cardHolderName')}\r\n                      type=\"cardHolderName\"\r\n                      onChange={handleChange}\r\n                      value={formState.values.cardHolderName || ''}\r\n                    />\r\n                     {hasError('cardHolderName') ?\r\n                    <span className={classes.errorText}>\r\n                      {formState.errors.cardHolderName[0]}\r\n                    </span> : null}\r\n                </Grid>\r\n                <Grid item xs={12} sm={12}>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"secondary\"\r\n                  onClick={handlePayment}\r\n                  size=\"large\"\r\n                  className={classes.paymentButton}\r\n                >\r\n                  Make Payment\r\n                </Button>\r\n                </Grid>\r\n                  <Box className={classes.formError} pt={3}>{formError}</Box>\r\n                </Grid>\r\n                </Box>\r\n              </Grid>\r\n            </Grid>\r\n        </>\r\n          :\"\"\r\n        }\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderDetail;\r\n"]},"metadata":{},"sourceType":"module"}