{"ast":null,"code":"import _classCallCheck from \"C:/xampp/htdocs/coinfield/coinfied/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _defineProperty from \"C:/xampp/htdocs/coinfield/coinfied/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\n/**\r\n * ErrorHandlerHelper Class - For managing errors\r\n */\nexport var ErrorHandlerHelper = function ErrorHandlerHelper(err) {\n  var _this = this;\n\n  _classCallCheck(this, ErrorHandlerHelper);\n\n  _defineProperty(this, \"rawError\", void 0);\n\n  _defineProperty(this, \"error\", {\n    code: 500,\n    isError: true,\n    timestamp: Date.now(),\n    error: 'Unknown error',\n    messages: [],\n    data: undefined\n  });\n\n  _defineProperty(this, \"setError\", function () {\n    var code = _this.rawError && _this.rawError.code ? _this.rawError.code : _this.error.code;\n    _this.error.code = code ? code : 400;\n    _this.error.timestamp = Date.now();\n    _this.error.messages = [];\n\n    if (_this.rawError.data && typeof _this.rawError.data === 'object' && _this.rawError.data.message) {\n      if (_this.rawError && _this.rawError.data.message === \"Token has expired\" || _this.rawError && _this.rawError.data.message === \"Unauthorized, Invalid token!\") {\n        localStorage.removeItem(\"token\");\n        window.location.href = \"/\";\n      } else {\n        _this.error.messages.push(_this.rawError.data.message);\n      }\n    }\n\n    if (!_this.error.messages.length) {\n      _this.error.error = 'Unknown';\n      _this.error.messages = [null];\n    }\n  });\n\n  this.rawError = err;\n  this.setError();\n};","map":null,"metadata":{},"sourceType":"module"}