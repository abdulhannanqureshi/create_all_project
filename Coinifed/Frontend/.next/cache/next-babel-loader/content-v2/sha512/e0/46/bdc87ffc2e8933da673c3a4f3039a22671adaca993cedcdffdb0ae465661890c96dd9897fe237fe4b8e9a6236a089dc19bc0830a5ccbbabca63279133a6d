{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\coinfield\\\\coinfied\\\\frontend\\\\src\\\\views\\\\Dashboard\\\\components\\\\Billing\\\\Billing.js\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Divider from '@material-ui/core/Divider';\nimport Grid from '@material-ui/core/Grid';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport useTheme from '@material-ui/core/styles/useTheme';\nimport Typography from '@material-ui/core/Typography';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport clsx from \"clsx\";\nimport Toast from 'components/toaster';\nimport { ApiRoutes } from 'config';\nimport { ApiHelper } from 'helper';\nimport moment from 'moment';\nimport Link from 'next/link';\nimport router from \"next/router\";\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport AppConfig from '../../../../config/appConfig';\nimport Loader from 'components/common/Loader/loader';\nimport noDataImage from '../../../../assets/images/Dashboard/noDataImage.svg';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: \"100%\"\n  },\n  disabledButton: {\n    background: \"#cccccc\",\n    borderColor: \"#cccccc !important\"\n  },\n  loader: {\n    display: \"flex\",\n    minHeight: \"500px\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  titleCta: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    [theme.breakpoints.down(\"sm\")]: {\n      flexDirection: \"column\",\n      textAlign: \"center\"\n    },\n    \"& h6\": {\n      [theme.breakpoints.down(\"md\")]: {\n        width: 130\n      },\n      [theme.breakpoints.down(\"sm\")]: {\n        width: \"100%\"\n      }\n    }\n  },\n  accordianDetails: {\n    flexFlow: \"column\",\n    borderTop: \"1px solid #ccc\"\n  },\n  heading: {\n    fontWeight: \"600\"\n  },\n  downloadButton: {\n    display: \"inline-block\",\n    padding: \"10px\",\n    border: \"1px solid #5120FF\",\n    borderRadius: \"4px\",\n    textTransform: \"uppercase\"\n  },\n  textDanger: {\n    color: \"red\"\n  },\n  accordion: {\n    marginBottom: \"15px\",\n    border: \"1px solid #ababab\",\n    minWidth: 600\n  },\n  courseWrapper: {\n    maxHeight: 500,\n    overflowY: \"auto\"\n  },\n  commonBtnLink: {\n    color: \"#fff\"\n  },\n  commonBtn: {\n    display: \"inline-block\",\n    padding: \"10px 22px\",\n    backgroundColor: \"#5120FF\",\n    color: \"#fff\",\n    fontSize: 16,\n    borderRadius: 5,\n    minWidth: 200,\n    border: \"solid 1px #5120FF\",\n    textAlign: \"center\",\n    transition: \"all 0.3s ease-in-out\",\n    \"&:hover\": {\n      backgroundColor: \"#fff\",\n      color: \"#5120FF\",\n      boxShadow: \"none\",\n      \"& $commonBtnLink\": {\n        color: \"#5120FF\"\n      }\n    }\n  },\n  anotherCommonBtn: {\n    backgroundColor: \"#fff\",\n    color: \"#5120FF\",\n    \"&:hover\": {\n      backgroundColor: \"#5120FF\",\n      color: \"#fff\"\n    }\n  },\n  smallCommonBtn: {\n    padding: \"7px 22px\"\n  },\n  centeredText: {\n    fontWeight: \"700\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginTop: \"10px\"\n  },\n  loaderDiv: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    marginTop: \"90px\"\n  },\n  noDataImg: {\n    maxWidth: \"100%\",\n    height: \"100px\"\n  },\n  themeText: {\n    color: \"#5120FF\"\n  },\n  expiryAlertText: {\n    color: \"red\"\n  }\n}));\n\nconst Billing = props => {\n  const {\n    className,\n    purchaseCourseData,\n    insideLoader,\n    authToken,\n    handleLoaderDeactive\n  } = props,\n        rest = _objectWithoutProperties(props, [\"className\", \"purchaseCourseData\", \"insideLoader\", \"authToken\", \"handleLoaderDeactive\"]);\n\n  const {\n    purchaseCourse,\n    courseDuration\n  } = purchaseCourseData;\n  debugger;\n  const classes = useStyles();\n  const theme = useTheme();\n  const isMd = useMediaQuery(theme.breakpoints.up(\"md\"), {\n    defaultMatches: true\n  });\n  const {\n    0: responseLoader,\n    1: setResponseLoader\n  } = useState(false);\n  const {\n    0: showAlert,\n    1: setShowAlert\n  } = useState(false);\n  const {\n    0: showExpire,\n    1: setShowExpire\n  } = useState(false);\n  const {\n    0: countDownday,\n    1: setCountDownDay\n  } = useState(\"\");\n  useEffect(() => {\n    if (purchaseCourse && purchaseCourse.length > 0) {\n      const certificateApproved = purchaseCourse.map(data => data.courses.isGenerated);\n      const certificateExpiredateTemp = purchaseCourse.map(data => data.courses.certificateValidTo);\n\n      if (certificateApproved) {\n        const certificateExpiredate = new Date(certificateExpiredateTemp);\n        const testing = new Date(certificateExpiredateTemp);\n        console.log(testing, \"testing\"); ///For 14 days before expiry\n\n        const expiryDateBefore = new Date(+testing - 12096e5);\n        const presentDate = new Date();\n\n        if (presentDate > expiryDateBefore && presentDate < testing) {\n          let remainingDays = testing.getDate() - presentDate.getDate();\n          setCountDownDay(remainingDays);\n          setShowAlert(true);\n          setShowExpire(false);\n        }\n\n        if (presentDate > testing) {\n          setShowExpire(true);\n          setShowAlert(false);\n        }\n\n        console.log(\"expiryDateBefore\", expiryDateBefore); // let initialTime = certificateExpiredate.setDate(certificateExpiredate.getDate() - 14);\n        // let differenceTime = Math.abs(testing.getTime() - initialTime)\n        // const differenceDay = DayConverter(differenceTime);\n        // const presentDate = new Date();\n        // const presenTimeStamp = presentDate.getTime();\n        // if(presenTimeStamp >= initialTime)\n        // {\n        //   let differenceTime1 = Math.abs(testing.getTime() - presenTimeStamp )\n        //   let remainingDays = DayConverter(differenceTime1);\n        //   setCountDownDay(remainingDays);\n        //   setShowAlert(true)\n        // }\n      }\n    }\n  }, [purchaseCourse]);\n\n  const DayConverter = t => {\n    var cd = 24 * 60 * 60 * 1000,\n        ch = 60 * 60 * 1000,\n        d = Math.floor(t / cd),\n        h = Math.floor((t - d * cd) / ch),\n        m = Math.round((t - d * cd - h * ch) / 60000),\n        pad = function (n) {\n      return n < 10 ? \"0\" + n : n;\n    };\n\n    if (m === 60) {\n      h++;\n      m = 0;\n    }\n\n    if (h === 24) {\n      d++;\n      h = 0;\n    }\n\n    return [d];\n  };\n\n  const handleCertificate = async id => {\n    setResponseLoader(true);\n    const data = {\n      courseId: id\n    };\n    const response = await new ApiHelper().FetchFromServer(ApiRoutes.CERTIFICATEREQUEST.service, ApiRoutes.CERTIFICATEREQUEST.url, ApiRoutes.CERTIFICATEREQUEST.method, ApiRoutes.CERTIFICATEREQUEST.authenticate, authToken, undefined, data);\n\n    if (response && !response.isError) {\n      const data = response.data.data;\n      setResponseLoader(false);\n      Toast.fire({\n        icon: \"success\",\n        title: response.messages\n      });\n    } else {\n      Toast.fire({\n        icon: response.code === 500 ? \"warning\" : \"error\",\n        title: response.messages\n      });\n    }\n  };\n\n  useEffect(() => {\n    handleLoaderDeactive(\"billing\");\n  }, []);\n  return __jsx(React.Fragment, null, insideLoader ? __jsx(\"div\", {\n    className: classes.loaderDiv,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 9\n    }\n  }, __jsx(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 11\n    }\n  })) : null, __jsx(\"div\", _extends({\n    className: className\n  }, rest, {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }\n  }), __jsx(Grid, {\n    container: true,\n    spacing: isMd ? 4 : 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 9\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: classes.titleCta,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 13\n    }\n  }, __jsx(Typography, {\n    variant: \"h6\",\n    color: \"textPrimary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 15\n    }\n  }, \"My Courses\"), __jsx(Typography, {\n    variant: \"p\",\n    color: \"textWarning\",\n    className: classes.textDanger,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 15\n    }\n  }, \"You will able to request for a Certificate, only if you have purchased a full course.\"))), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 11\n    }\n  }, __jsx(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 13\n    }\n  })), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 11\n    }\n  }, __jsx(Typography, {\n    variant: \"h6\",\n    color: \"textWarning\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 13\n    }\n  }, \"To access your purchased courses, please login to link below with the same account credentials as you entered here\", \" \", __jsx(\"a\", {\n    href: \"https://coinifideacademy.talentlms.com/\",\n    target: \"_blank\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 15\n    }\n  }, \"https://coinifideacademy.talentlms.com/\"))), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 11\n    }\n  }, __jsx(Box, {\n    className: classes.courseWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 13\n    }\n  }, purchaseCourse && purchaseCourse.length > 0 ? purchaseCourse.map((data, index) => {\n    return __jsx(Accordion, {\n      key: index,\n      className: classes.accordion,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 21\n      }\n    }, __jsx(AccordionSummary, {\n      expandIcon: __jsx(ExpandMoreIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 37\n        }\n      }),\n      \"aria-controls\": \"panel1a-content\",\n      id: \"panel1a-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 23\n      }\n    }, __jsx(Typography, {\n      className: classes.heading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 25\n      }\n    }, data.courses.title)), __jsx(AccordionDetails, {\n      className: classes.accordianDetails,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 23\n      }\n    }, __jsx(Box, {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 25\n      }\n    }, __jsx(Typography, {\n      className: classes.heading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 27\n      }\n    }, \"Module List Of Course\"), __jsx(Typography, {\n      className: classes.heading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 27\n      }\n    }, \"Valid Up to\")), data.modules.map((modualData, index) => {\n      return __jsx(Box, {\n        pt: 2,\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 29\n        }\n      }, __jsx(Typography, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 31\n        }\n      }, modualData.moduleName), __jsx(Typography, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 31\n        }\n      }, moment(modualData.expireDate).format(\"DD/MM/YYYY\")));\n    }), data.labId ? __jsx(Box, {\n      pt: 2,\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 27\n      }\n    }, __jsx(Typography, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 29\n      }\n    }, data.lab.title), __jsx(Typography, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 29\n      }\n    }, moment(data.lab.expireDate).format(\"DD/MM/YYYY\"))) : null, data.courses.isAllCoursePurchased && data.courses.certificate !== \"\" && data.courses.isGenerated ? __jsx(React.Fragment, null, showAlert ? __jsx(Box, {\n      pt: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 31\n      }\n    }, __jsx(Typography, {\n      className: classes.expiryAlertText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 33\n      }\n    }, \"Your certificate will expire in \", countDownday, \" \", \"days\")) : null) : null, showExpire ? __jsx(Box, {\n      pt: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 27\n      }\n    }, __jsx(Typography, {\n      className: classes.expiryAlertText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 29\n      }\n    }, \"Your certificate has been expired.\")) : null, __jsx(Box, {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      pt: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 25\n      }\n    }, data.modules && data.modules.length ? __jsx(React.Fragment, null, __jsx(Box, {\n      pt: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 31\n      }\n    }, __jsx(Link, {\n      href: \"https://coinifideacademy.talentlms.com/\",\n      download: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 33\n      }\n    }, __jsx(\"a\", {\n      target: \"_blank\",\n      className: clsx(classes.commonBtn, classes.anotherCommonBtn),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 35\n      }\n    }, \"Access Course\")))) : null, data.lab && data.lab.link ? __jsx(Box, {\n      pt: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 29\n      }\n    }, __jsx(\"a\", {\n      target: \"_blank\",\n      href: data.lab.link ? `${data.lab.link}` : \"\",\n      className: clsx(classes.commonBtn, classes.anotherCommonBtn),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 31\n      }\n    }, \"Access Lab\")) : null, data.courses.isAllCoursePurchased ? __jsx(Box, {\n      pt: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 29\n      }\n    }, data.courses.certificate !== \"\" && data.courses.isGenerated ? __jsx(Button, {\n      variant: \"contained\",\n      disabled: showExpire,\n      className: showExpire ? clsx(classes.commonBtn, // classes.smallCommonBtn,\n      classes.disabledButton) : clsx(classes.commonBtn, classes.smallCommonBtn),\n      color: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 33\n      }\n    }, __jsx(\"a\", {\n      href: `${AppConfig.IMAGE_URL}/${data.courses.certificate}`,\n      target: \"_blank\",\n      className: clsx(classes.commonBtnLink, classes.smallCommonBtnLink),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 35\n      }\n    }, \"Download Certificate\")) : __jsx(Button, {\n      variant: \"contained\",\n      color: \"secondary\",\n      onClick: () => handleCertificate(data.courses._id),\n      className: clsx(classes.commonBtn, classes.smallCommonBtn),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 33\n      }\n    }, \"Request Certificate\")) : null)));\n  }) : __jsx(React.Fragment, null, __jsx(Typography, {\n    variant: \"h7\",\n    color: \"textPrimary\",\n    className: classes.centeredText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 471,\n      columnNumber: 21\n    }\n  }, __jsx(\"img\", {\n    src: noDataImage,\n    alt: \"no-data-img\",\n    className: classes.noDataImg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 23\n    }\n  }))), __jsx(Typography, {\n    variant: \"h7\",\n    color: \"textPrimary\",\n    className: classes.centeredText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: classes.themeText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 484,\n      columnNumber: 21\n    }\n  }, \"No Course purchased yet.\"))))))));\n};\n\nBilling.propTypes = {\n  /**\r\n   * External classes\r\n   */\n  className: PropTypes.string\n};\nexport default Billing;","map":{"version":3,"sources":["C:/xampp/htdocs/coinfield/coinfied/frontend/src/views/Dashboard/components/Billing/Billing.js"],"names":["Accordion","AccordionDetails","AccordionSummary","Box","Button","Divider","Grid","makeStyles","useTheme","Typography","useMediaQuery","ExpandMoreIcon","clsx","Toast","ApiRoutes","ApiHelper","moment","Link","router","PropTypes","React","useEffect","useState","AppConfig","Loader","noDataImage","useStyles","theme","root","width","disabledButton","background","borderColor","loader","display","minHeight","justifyContent","alignItems","titleCta","breakpoints","down","flexDirection","textAlign","accordianDetails","flexFlow","borderTop","heading","fontWeight","downloadButton","padding","border","borderRadius","textTransform","textDanger","color","accordion","marginBottom","minWidth","courseWrapper","maxHeight","overflowY","commonBtnLink","commonBtn","backgroundColor","fontSize","transition","boxShadow","anotherCommonBtn","smallCommonBtn","centeredText","marginTop","loaderDiv","noDataImg","maxWidth","height","themeText","expiryAlertText","Billing","props","className","purchaseCourseData","insideLoader","authToken","handleLoaderDeactive","rest","purchaseCourse","courseDuration","classes","isMd","up","defaultMatches","responseLoader","setResponseLoader","showAlert","setShowAlert","showExpire","setShowExpire","countDownday","setCountDownDay","length","certificateApproved","map","data","courses","isGenerated","certificateExpiredateTemp","certificateValidTo","certificateExpiredate","Date","testing","console","log","expiryDateBefore","presentDate","remainingDays","getDate","DayConverter","t","cd","ch","d","Math","floor","h","m","round","pad","n","handleCertificate","id","courseId","response","FetchFromServer","CERTIFICATEREQUEST","service","url","method","authenticate","undefined","isError","fire","icon","title","messages","code","index","modules","modualData","moduleName","expireDate","format","labId","lab","isAllCoursePurchased","certificate","link","IMAGE_URL","smallCommonBtnLink","_id","propTypes","string"],"mappings":"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","sourcesContent":["import Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport Box from '@material-ui/core/Box';\r\nimport Button from '@material-ui/core/Button';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\nimport useTheme from '@material-ui/core/styles/useTheme';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport clsx from \"clsx\";\r\nimport Toast from 'components/toaster';\r\nimport { ApiRoutes } from 'config';\r\nimport { ApiHelper } from 'helper';\r\nimport moment from 'moment';\r\nimport Link from 'next/link';\r\nimport router from \"next/router\";\r\nimport PropTypes from 'prop-types';\r\nimport React, { useEffect, useState } from 'react';\r\nimport AppConfig from '../../../../config/appConfig';\r\nimport Loader from 'components/common/Loader/loader';\r\nimport noDataImage from '../../../../assets/images/Dashboard/noDataImage.svg'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n  disabledButton: {\r\n    background: \"#cccccc\",\r\n    borderColor: \"#cccccc !important\",\r\n  },\r\n  loader: {\r\n    display: \"flex\",\r\n    minHeight: \"500px\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  titleCta: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexDirection: \"column\",\r\n      textAlign: \"center\",\r\n    },\r\n    \"& h6\": {\r\n      [theme.breakpoints.down(\"md\")]: {\r\n        width: 130,\r\n      },\r\n      [theme.breakpoints.down(\"sm\")]: {\r\n        width: \"100%\",\r\n      },\r\n    },\r\n  },\r\n  accordianDetails: {\r\n    flexFlow: \"column\",\r\n    borderTop: \"1px solid #ccc\",\r\n  },\r\n  heading: {\r\n    fontWeight: \"600\",\r\n  },\r\n  downloadButton: {\r\n    display: \"inline-block\",\r\n    padding: \"10px\",\r\n    border: \"1px solid #5120FF\",\r\n    borderRadius: \"4px\",\r\n    textTransform: \"uppercase\",\r\n  },\r\n  textDanger: {\r\n    color: \"red\",\r\n  },\r\n  accordion: {\r\n    marginBottom: \"15px\",\r\n    border: \"1px solid #ababab\",\r\n    minWidth: 600,\r\n  },\r\n  courseWrapper: {\r\n    maxHeight: 500,\r\n    overflowY: \"auto\",\r\n  },\r\n  commonBtnLink: {\r\n    color: \"#fff\",\r\n  },\r\n  commonBtn: {\r\n    display: \"inline-block\",\r\n    padding: \"10px 22px\",\r\n    backgroundColor: \"#5120FF\",\r\n    color: \"#fff\",\r\n    fontSize: 16,\r\n    borderRadius: 5,\r\n    minWidth: 200,\r\n    border: \"solid 1px #5120FF\",\r\n    textAlign: \"center\",\r\n    transition: \"all 0.3s ease-in-out\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"#fff\",\r\n      color: \"#5120FF\",\r\n      boxShadow: \"none\",\r\n      \"& $commonBtnLink\": {\r\n        color: \"#5120FF\",\r\n      },\r\n    },\r\n  },\r\n  anotherCommonBtn: {\r\n    backgroundColor: \"#fff\",\r\n    color: \"#5120FF\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"#5120FF\",\r\n      color: \"#fff\",\r\n    },\r\n  },\r\n  smallCommonBtn: {\r\n    padding: \"7px 22px\",\r\n  },\r\n  centeredText: {\r\n    fontWeight: \"700\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    marginTop: \"10px\",\r\n  },\r\n  loaderDiv: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    marginTop: \"90px\",\r\n  },\r\n  noDataImg: {\r\n    maxWidth: \"100%\",\r\n    height: \"100px\",\r\n  },\r\n  themeText: {\r\n    color: \"#5120FF\",\r\n  },\r\n  expiryAlertText: {\r\n    color: \"red\",\r\n  },\r\n}));\r\n\r\nconst Billing = (props) => {\r\n  const {\r\n    className,\r\n    purchaseCourseData,\r\n    insideLoader,\r\n    authToken,\r\n    handleLoaderDeactive,\r\n    ...rest\r\n  } = props;\r\n  const { purchaseCourse, courseDuration } = purchaseCourseData;\r\n  debugger;\r\n  const classes = useStyles();\r\n\r\n  const theme = useTheme();\r\n  const isMd = useMediaQuery(theme.breakpoints.up(\"md\"), {\r\n    defaultMatches: true,\r\n  });\r\n\r\n  const [responseLoader, setResponseLoader] = useState(false);\r\n  const [showAlert, setShowAlert] = useState(false);\r\n  const [showExpire, setShowExpire] = useState(false);\r\n  const [countDownday, setCountDownDay] = useState(\"\");\r\n  useEffect(() => {\r\n    if (purchaseCourse && purchaseCourse.length > 0) {\r\n      const certificateApproved = purchaseCourse.map(\r\n        (data) => data.courses.isGenerated\r\n      );\r\n      const certificateExpiredateTemp = purchaseCourse.map(\r\n        (data) => data.courses.certificateValidTo\r\n      );\r\n      if (certificateApproved) {\r\n        const certificateExpiredate = new Date(certificateExpiredateTemp);\r\n        const testing = new Date(certificateExpiredateTemp);\r\n        console.log(testing, \"testing\");\r\n        ///For 14 days before expiry\r\n        const expiryDateBefore = new Date(+testing - 12096e5);\r\n        const presentDate = new Date();\r\n        if (presentDate > expiryDateBefore && presentDate < testing) {\r\n          let remainingDays = testing.getDate() - presentDate.getDate();\r\n          setCountDownDay(remainingDays);\r\n          setShowAlert(true);\r\n          setShowExpire(false);\r\n        }\r\n        if (presentDate > testing) {\r\n          setShowExpire(true);\r\n          setShowAlert(false);\r\n        }\r\n        console.log(\"expiryDateBefore\", expiryDateBefore);\r\n        // let initialTime = certificateExpiredate.setDate(certificateExpiredate.getDate() - 14);\r\n        // let differenceTime = Math.abs(testing.getTime() - initialTime)\r\n        // const differenceDay = DayConverter(differenceTime);\r\n        // const presentDate = new Date();\r\n        // const presenTimeStamp = presentDate.getTime();\r\n        // if(presenTimeStamp >= initialTime)\r\n        // {\r\n        //   let differenceTime1 = Math.abs(testing.getTime() - presenTimeStamp )\r\n        //   let remainingDays = DayConverter(differenceTime1);\r\n        //   setCountDownDay(remainingDays);\r\n        //   setShowAlert(true)\r\n        // }\r\n      }\r\n    }\r\n  }, [purchaseCourse]);\r\n  const DayConverter = (t) => {\r\n    var cd = 24 * 60 * 60 * 1000,\r\n      ch = 60 * 60 * 1000,\r\n      d = Math.floor(t / cd),\r\n      h = Math.floor((t - d * cd) / ch),\r\n      m = Math.round((t - d * cd - h * ch) / 60000),\r\n      pad = function (n) {\r\n        return n < 10 ? \"0\" + n : n;\r\n      };\r\n    if (m === 60) {\r\n      h++;\r\n      m = 0;\r\n    }\r\n    if (h === 24) {\r\n      d++;\r\n      h = 0;\r\n    }\r\n    return [d];\r\n  };\r\n  const handleCertificate = async (id) => {\r\n    setResponseLoader(true);\r\n    const data = {\r\n      courseId: id,\r\n    };\r\n    const response = await new ApiHelper().FetchFromServer(\r\n      ApiRoutes.CERTIFICATEREQUEST.service,\r\n      ApiRoutes.CERTIFICATEREQUEST.url,\r\n      ApiRoutes.CERTIFICATEREQUEST.method,\r\n      ApiRoutes.CERTIFICATEREQUEST.authenticate,\r\n      authToken,\r\n      undefined,\r\n      data\r\n    );\r\n    if (response && !response.isError) {\r\n      const data = response.data.data;\r\n      setResponseLoader(false);\r\n      Toast.fire({\r\n        icon: \"success\",\r\n        title: response.messages,\r\n      });\r\n    } else {\r\n      Toast.fire({\r\n        icon: response.code === 500 ? \"warning\" : \"error\",\r\n        title: response.messages,\r\n      });\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    handleLoaderDeactive(\"billing\");\r\n  }, []);\r\n  return (\r\n    <>\r\n      {insideLoader ? (\r\n        <div className={classes.loaderDiv}>\r\n          <Loader />\r\n        </div>\r\n      ) : null}\r\n      <div className={className} {...rest} className={classes.root}>\r\n        <Grid container spacing={isMd ? 4 : 2}>\r\n          <Grid item xs={12}>\r\n            <div className={classes.titleCta}>\r\n              <Typography variant='h6' color='textPrimary'>\r\n                My Courses\r\n              </Typography>\r\n              <Typography\r\n                variant='p'\r\n                color='textWarning'\r\n                className={classes.textDanger}\r\n              >\r\n                You will able to request for a Certificate, only if you have\r\n                purchased a full course.\r\n              </Typography>\r\n            </div>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Divider />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Typography variant='h6' color='textWarning'>\r\n              To access your purchased courses, please login to link below with\r\n              the same account credentials as you entered here{\" \"}\r\n              <a\r\n                href={\"https://coinifideacademy.talentlms.com/\"}\r\n                target='_blank'\r\n              >\r\n                https://coinifideacademy.talentlms.com/\r\n              </a>\r\n            </Typography>\r\n          </Grid>\r\n          <Grid item xs={12} md={12}>\r\n            <Box className={classes.courseWrapper}>\r\n              {purchaseCourse && purchaseCourse.length > 0 ? (\r\n                purchaseCourse.map((data, index) => {\r\n                  return (\r\n                    <Accordion key={index} className={classes.accordion}>\r\n                      <AccordionSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                        aria-controls='panel1a-content'\r\n                        id='panel1a-header'\r\n                      >\r\n                        <Typography className={classes.heading}>\r\n                          {data.courses.title}\r\n                        </Typography>\r\n                      </AccordionSummary>\r\n                      <AccordionDetails className={classes.accordianDetails}>\r\n                        <Box display={\"flex\"} justifyContent={\"space-between\"}>\r\n                          <Typography className={classes.heading}>\r\n                            Module List Of Course\r\n                          </Typography>\r\n                          <Typography className={classes.heading}>\r\n                            Valid Up to\r\n                          </Typography>\r\n                        </Box>\r\n                        {data.modules.map((modualData, index) => {\r\n                          return (\r\n                            <Box\r\n                              pt={2}\r\n                              display={\"flex\"}\r\n                              justifyContent={\"space-between\"}\r\n                            >\r\n                              <Typography>{modualData.moduleName}</Typography>\r\n                              <Typography>\r\n                                {/* {modualData.purchasedDate} */}\r\n                                {moment(modualData.expireDate).format(\r\n                                  \"DD/MM/YYYY\"\r\n                                )}\r\n                              </Typography>\r\n                            </Box>\r\n                          );\r\n                        })}\r\n                        {data.labId ? (\r\n                          <Box\r\n                            pt={2}\r\n                            display={\"flex\"}\r\n                            justifyContent={\"space-between\"}\r\n                          >\r\n                            <Typography>{data.lab.title}</Typography>\r\n                            <Typography>\r\n                              {/* {modualData.purchasedDate} */}\r\n                              {moment(data.lab.expireDate).format(\"DD/MM/YYYY\")}\r\n                            </Typography>\r\n                          </Box>\r\n                        ) : null}\r\n                        {data.courses.isAllCoursePurchased &&\r\n                        data.courses.certificate !== \"\" &&\r\n                        data.courses.isGenerated ? (\r\n                          <>\r\n                            {showAlert ? (\r\n                              <Box pt={2}>\r\n                                <Typography className={classes.expiryAlertText}>\r\n                                  Your certificate will expire in {countDownday}{\" \"}\r\n                                  days\r\n                                </Typography>\r\n                              </Box>\r\n                            ) : null}\r\n                          </>\r\n                        ) : null}\r\n                        {showExpire ? (\r\n                          <Box pt={2}>\r\n                            <Typography className={classes.expiryAlertText}>\r\n                              Your certificate has been expired.\r\n                            </Typography>\r\n                          </Box>\r\n                        ) : null}\r\n                        <Box\r\n                          display={\"flex\"}\r\n                          justifyContent={\"space-between\"}\r\n                          alignItems={\"center\"}\r\n                          pt={2}\r\n                        >\r\n                          {data.modules && data.modules.length ? (\r\n                            <>\r\n                              <Box pt={2}>\r\n                                <Link\r\n                                  href={\r\n                                    \"https://coinifideacademy.talentlms.com/\"\r\n                                  }\r\n                                  download\r\n                                >\r\n                                  <a\r\n                                    target='_blank'\r\n                                    className={clsx(\r\n                                      classes.commonBtn,\r\n                                      classes.anotherCommonBtn\r\n                                    )}\r\n                                  >\r\n                                    Access Course\r\n                                  </a>\r\n                                </Link>\r\n                              </Box>\r\n                            </>\r\n                          ) : null}\r\n                          {data.lab && data.lab.link ? (\r\n                            <Box pt={2}>\r\n                              <a\r\n                                target='_blank'\r\n                                href={data.lab.link ? `${data.lab.link}` : \"\"}\r\n                                className={clsx(\r\n                                  classes.commonBtn,\r\n                                  classes.anotherCommonBtn\r\n                                )}\r\n                              >\r\n                                Access Lab\r\n                              </a>\r\n                            </Box>\r\n                          ) : null}\r\n                          {data.courses.isAllCoursePurchased ? (\r\n                            <Box pt={2}>\r\n                              {data.courses.certificate !== \"\" &&\r\n                              data.courses.isGenerated ? (\r\n                                <Button\r\n                                  variant='contained'\r\n                                  disabled={showExpire}\r\n                                  className={\r\n                                    showExpire\r\n                                      ? clsx(\r\n                                          classes.commonBtn,\r\n                                          // classes.smallCommonBtn,\r\n                                          classes.disabledButton\r\n                                        )\r\n                                      : clsx(\r\n                                          classes.commonBtn,\r\n                                          classes.smallCommonBtn\r\n                                        )\r\n                                  }\r\n                                  color='secondary'\r\n                                >\r\n                                  <a\r\n                                    href={`${AppConfig.IMAGE_URL}/${data.courses.certificate}`}\r\n                                    target='_blank'\r\n                                    className={clsx(\r\n                                      classes.commonBtnLink,\r\n                                      classes.smallCommonBtnLink\r\n                                    )}\r\n                                  >\r\n                                    Download Certificate\r\n                                  </a>\r\n                                </Button>\r\n                              ) : (\r\n                                <Button\r\n                                  variant='contained'\r\n                                  color='secondary'\r\n                                  onClick={() =>\r\n                                    handleCertificate(data.courses._id)\r\n                                  }\r\n                                  className={clsx(\r\n                                    classes.commonBtn,\r\n                                    classes.smallCommonBtn\r\n                                  )}\r\n                                >\r\n                                  Request Certificate\r\n                                </Button>\r\n                              )}\r\n                            </Box>\r\n                          ) : null}\r\n                        </Box>\r\n                      </AccordionDetails>\r\n                    </Accordion>\r\n                  );\r\n                })\r\n              ) : (\r\n                <>\r\n                  <Typography\r\n                    variant='h7'\r\n                    color='textPrimary'\r\n                    className={classes.centeredText}\r\n                  >\r\n                    <div>\r\n                      <img\r\n                        src={noDataImage}\r\n                        alt='no-data-img'\r\n                        className={classes.noDataImg}\r\n                      />\r\n                    </div>\r\n                  </Typography>\r\n                  <Typography\r\n                    variant='h7'\r\n                    color='textPrimary'\r\n                    className={classes.centeredText}\r\n                  >\r\n                    <div className={classes.themeText}>\r\n                      No Course purchased yet.\r\n                    </div>\r\n                  </Typography>\r\n                </>\r\n              )}\r\n            </Box>\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nBilling.propTypes = {\r\n  /**\r\n   * External classes\r\n   */\r\n  className: PropTypes.string,\r\n};\r\n\r\nexport default Billing;\r\n"]},"metadata":{},"sourceType":"module"}